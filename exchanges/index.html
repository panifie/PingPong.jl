<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Exchanges · PingPong.jl</title><meta name="title" content="Exchanges · PingPong.jl"/><meta property="og:title" content="Exchanges · PingPong.jl"/><meta property="twitter:title" content="Exchanges · PingPong.jl"/><meta name="description" content="Documentation for PingPong.jl."/><meta property="og:description" content="Documentation for PingPong.jl."/><meta property="twitter:description" content="Documentation for PingPong.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../presentation/"><img src="../assets/logo.png" alt="PingPong.jl logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><span class="tocitem">Introduction</span><ul><li><a class="tocitem" href="../presentation/">Why PingPong?</a></li><li><a class="tocitem" href="../">What is PingPong?</a></li></ul></li><li><a class="tocitem" href="../types/">Types</a></li><li><a class="tocitem" href="../strategy/">Strategies</a></li><li><span class="tocitem">Engine</span><ul><li><a class="tocitem" href="../engine/engine/">Executors</a></li><li><a class="tocitem" href="../engine/backtesting/">Backtesting</a></li><li><a class="tocitem" href="../engine/paper/">Paper</a></li><li><a class="tocitem" href="../engine/live/">Live</a></li><li><a class="tocitem" href="../engine/features/">Features</a></li></ul></li><li class="is-active"><a class="tocitem" href>Exchanges</a><ul class="internal"><li><a class="tocitem" href="#Exchange-Types"><span>Exchange Types</span></a></li><li><a class="tocitem" href="#Construct-and-query-exchanges"><span>Construct and query exchanges</span></a></li><li><a class="tocitem" href="#Fetching-data-from-exchanges"><span>Fetching data from exchanges</span></a></li></ul></li><li><a class="tocitem" href="../data/">Data</a></li><li><span class="tocitem">Watchers</span><ul><li><a class="tocitem" href="../watchers/watchers/">Interface</a></li><li><input class="collapse-toggle" id="menuitem-7-2" type="checkbox"/><label class="tocitem" for="menuitem-7-2"><span class="docs-label">Apis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../watchers/apis/coingecko/">CoinGecko</a></li><li><a class="tocitem" href="../watchers/apis/coinpaprika/">CoinPaprika</a></li><li><a class="tocitem" href="../watchers/apis/coinmarketcap/">CoinMarketCap</a></li></ul></li></ul></li><li><a class="tocitem" href="../stats/">Stats</a></li><li><a class="tocitem" href="../optimization/">Optimization</a></li><li><a class="tocitem" href="../plotting/">Plotting</a></li><li><span class="tocitem">Misc</span><ul><li><a class="tocitem" href="../config/">Config</a></li><li><a class="tocitem" href="../disambiguation/">Disambiguation (Glossary)</a></li><li><a class="tocitem" href="../troubleshooting/">Troubleshooting</a></li><li><a class="tocitem" href="../devdocs/">Devdocs</a></li><li><a class="tocitem" href="../contacts/">Contacts</a></li></ul></li><li><span class="tocitem">Customizations</span><ul><li><a class="tocitem" href="../customizations/customizations/">Overview</a></li><li><a class="tocitem" href="../customizations/orders/">Orders</a></li><li><a class="tocitem" href="../customizations/backtest/">Backtester</a></li><li><a class="tocitem" href="../customizations/exchanges/">Exchanges</a></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../API/collections/">Collections</a></li><li><a class="tocitem" href="../API/data/">Data</a></li><li><a class="tocitem" href="../API/ccxt/">Ccxt</a></li><li><a class="tocitem" href="../API/dfutils/">DataFrame utils</a></li><li><a class="tocitem" href="../API/executors/">Executors</a></li><li><a class="tocitem" href="../API/exchanges/">Exchanges</a></li><li><a class="tocitem" href="../API/fetch/">Fetch module</a></li><li><a class="tocitem" href="../API/engine/">Engine</a></li><li><a class="tocitem" href="../API/instances/">Instances</a></li><li><a class="tocitem" href="../API/instruments/">Instruments</a></li><li><a class="tocitem" href="../API/misc/">Misc</a></li><li><a class="tocitem" href="../API/optimization/">Optimization</a></li><li><a class="tocitem" href="../API/pbar/">Pbar</a></li><li><a class="tocitem" href="../API/plotting/">Plotting</a></li><li><a class="tocitem" href="../API/prices/">Prices</a></li><li><a class="tocitem" href="../API/processing/">Processing</a></li><li><a class="tocitem" href="../API/python/">Python</a></li><li><a class="tocitem" href="../API/stats/">Stats</a></li><li><a class="tocitem" href="../API/strategies/">Strategies</a></li><li><input class="collapse-toggle" id="menuitem-13-20" type="checkbox"/><label class="tocitem" for="menuitem-13-20"><span class="docs-label">Analysis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../API/analysis/analysis/">Analysis</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Exchanges</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Exchanges</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/panifie/PingPong.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/panifie/PingPong.jl/blob/master/docs/src/exchanges.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Exchanges"><a class="docs-heading-anchor" href="#Exchanges">Exchanges</a><a id="Exchanges-1"></a><a class="docs-heading-anchor-permalink" href="#Exchanges" title="Permalink"></a></h1><p>Every trade, order, asset instance, and strategy is parameterized against an <code>ExchangeID</code>, which is a type constructed from the name (<code>Symbol</code>) of an exchange. Currently, the bot supports CCXT with exchanges subtypes of <code>CcxtExchange</code>.</p><p>There is only one exchange instance (one sandbox and one non-sandbox) constructed per exchange, so calling <a href="../API/exchanges/#Exchanges.getexchange!"><code>PingPong.Engine.Exchanges.getexchange!</code></a> will always return the same object for each exchange. The sandbox instance is generally a test-net with synthetic markets.</p><p>We try to parse as much info from the (CCXT) exchange such that we can fill attributes such as:</p><ul><li>Markets</li><li>Timeframes</li><li>Asset trading fees, limits, precision</li><li>Funding rates</li></ul><p>The support for exchanges is a best-effort basis. To overview if the exchange is likely compatible with the bot, call <code>check</code>:</p><pre><code class="language-julia hljs">using PingPong
@environment!
e = getexchange!(:bybit)
exs.check(e, type=:basic) # for backtesting and paper trading
exs.check(e, type=:live) # for live support</code></pre><p>The bot tries to use the WebSocket API if available, otherwise, it falls back to the basic REST API. The API keys are read from a file in the <code>user/</code> directory named after the exchange name like <code>user/bybit.json</code> for the Bybit exchange or <code>user/bybit_sandbox.json</code> for the respective sandbox API keys. The JSON file has to contain the fields <code>apiKey</code>, <code>secret</code>, and <code>password</code>.</p><p>The strategy quote currency and each asset currency is a subtype of <a href="../API/exchanges/#Exchanges.CurrencyCash"><code>PingPong.Engine.Exchanges.CurrencyCash</code></a>, which is a <code>Number</code> where operations respect the precision defined by the exchange.</p><p>Some commonly fetched information is cached with a TTL, like tickers, markets, and balances.</p><h2 id="Exchange-Types"><a class="docs-heading-anchor" href="#Exchange-Types">Exchange Types</a><a id="Exchange-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Exchange-Types" title="Permalink"></a></h2><p>Basic exchange types, and global exchange vars.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExchangeTypes.HOOKS-exchanges" href="#ExchangeTypes.HOOKS-exchanges"><code>ExchangeTypes.HOOKS</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Functions <code>f(::Exchange)</code> to call when an exchange is loaded</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/ExchangeTypes/src/exchange.jl#L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExchangeTypes.exc-exchanges" href="#ExchangeTypes.exc-exchanges"><code>ExchangeTypes.exc</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Global var implicit exchange instance.</p><p>When working interactively, a global <code>exc</code> variable is available, updated through <code>globalexchange!</code>, which is used as the default for some functions when the exchange argument is omitted.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/ExchangeTypes/src/exchange.jl#L197-L201">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExchangeTypes.exchangeIds-exchanges" href="#ExchangeTypes.exchangeIds-exchanges"><code>ExchangeTypes.exchangeIds</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>All possible exchanges that can be instantiated by ccxt.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/ExchangeTypes/src/exchangeid.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExchangeTypes.exchanges-exchanges" href="#ExchangeTypes.exchanges-exchanges"><code>ExchangeTypes.exchanges</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Global var holding Exchange instances. Used as a cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/ExchangeTypes/src/exchange.jl#L202">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExchangeTypes.sb_exchanges-exchanges" href="#ExchangeTypes.sb_exchanges-exchanges"><code>ExchangeTypes.sb_exchanges</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Global var holding Sandbox Exchange instances. Used as a cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/ExchangeTypes/src/exchange.jl#L204">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExchangeTypes.CcxtExchange-exchanges" href="#ExchangeTypes.CcxtExchange-exchanges"><code>ExchangeTypes.CcxtExchange</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The <code>CcxtExchange</code> type wraps a ccxt exchange instance. Some attributes frequently accessed are copied over to avoid round tripping python. More attributes might be added in the future. To instantiate an exchange call <code>getexchange!</code> or <code>setexchange!</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/ExchangeTypes/src/exchange.jl#L20-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExchangeTypes.ExcPrecisionMode-exchanges" href="#ExchangeTypes.ExcPrecisionMode-exchanges"><code>ExchangeTypes.ExcPrecisionMode</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Same as ccxt precision mode enums.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/ExchangeTypes/src/exchange.jl#L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExchangeTypes.Exchange-Tuple{Py}-exchanges" href="#ExchangeTypes.Exchange-Tuple{Py}-exchanges"><code>ExchangeTypes.Exchange</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Instantiates a new <code>Exchange</code> wrapper for the provided <code>x</code> Python object.</p><p>This constructs a <code>CcxtExchange</code> struct with the provided Python object. It extracts the exchange ID, name, and other metadata. It runs any registered hook functions for that exchange. It sets a finalizer to close the exchange when garbage collected.</p><p>Returns the new <code>Exchange</code> instance, or an empty one if <code>x</code> is None.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/ExchangeTypes/src/exchange.jl#L69-L78">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExchangeTypes.Exchange-exchanges" href="#ExchangeTypes.Exchange-exchanges"><code>ExchangeTypes.Exchange</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract exchange type.</p><p>Defines the interface for interacting with crypto exchanges. Implemented for CCXT in CcxtExchange.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/ExchangeTypes/src/exchange.jl#L13-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExchangeTypes.ExchangeID-exchanges" href="#ExchangeTypes.ExchangeID-exchanges"><code>ExchangeTypes.ExchangeID</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A structure for handling Exchange IDs in CCXT.</p><p>This structure is used to manage Exchange IDs in the CCXT library. It contains methods for creating an Exchange ID from a symbol, a Python object, or directly from a symbol type. It ensures that the symbol is in the list of valid exchange IDs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/ExchangeTypes/src/exchangeid.jl#L4-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.first-Tuple{Exchange, Vararg{Symbol}}-exchanges" href="#Base.first-Tuple{Exchange, Vararg{Symbol}}-exchanges"><code>Base.first</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Return the first available property from a variable number of Symbol arguments in the given Exchange.</p><pre><code class="language-julia hljs">first(exc::Exchange, args::Symbol...) -&gt; Any
</code></pre><p>This function iterates through the provided Symbols and returns the value of the first property that exists in the Exchange object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/ExchangeTypes/src/exchange.jl#L183-L188">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.getproperty-Union{Tuple{E}, Tuple{E, Symbol}} where E&lt;:Exchange-exchanges" href="#Base.getproperty-Union{Tuple{E}, Tuple{E, Symbol}} where E&lt;:Exchange-exchanges"><code>Base.getproperty</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Attributes not matching the <code>Exchange</code> struct fields are forwarded to the wrapped ccxt class instance.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/ExchangeTypes/src/exchange.jl#L118">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.hash-Tuple{Exchange, UInt64}-exchanges" href="#Base.hash-Tuple{Exchange, UInt64}-exchanges"><code>Base.hash</code></a> — <span class="docstring-category">Method</span></header><section><div><p>The hash of an exchange object is reduced to its symbol (the function used to instantiate the object from ccxt).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/ExchangeTypes/src/exchange.jl#L115">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExchangeTypes._has-Tuple{Symbol}-exchanges" href="#ExchangeTypes._has-Tuple{Symbol}-exchanges"><code>ExchangeTypes._has</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Checks if the specified feature <code>feat</code> is supported by any of the exchanges available through the ccxt library.</p><p><strong>Arguments</strong></p><ul><li><code>s::Symbol</code>: The feature to check for support across exchanges.</li><li><code>full::Bool=true</code>: If <code>true</code>, checks both static and instantiated properties of the exchange for support.</li></ul><p><strong>Returns</strong></p><ul><li><code>Vector{String}</code>: A list of exchange names that support the specified feature.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/ExchangeTypes/src/exchange.jl#L145-L154">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExchangeTypes.close_exc-Tuple{ExchangeTypes.CcxtExchange}-exchanges" href="#ExchangeTypes.close_exc-Tuple{ExchangeTypes.CcxtExchange}-exchanges"><code>ExchangeTypes.close_exc</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Closes the given exchange.</p><pre><code class="language-julia hljs">close_exc(
    exc::ExchangeTypes.CcxtExchange
) -&gt; Union{Nothing, Task}
</code></pre><p>This function attempts to close the given exchange if it exists. It checks if the exchange has a &#39;close&#39; attribute and if so, it schedules the &#39;close&#39; coroutine for execution.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/ExchangeTypes/src/exchange.jl#L37-L43">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExchangeTypes.decimal_to_size-Tuple{Any, ExcPrecisionMode}-exchanges" href="#ExchangeTypes.decimal_to_size-Tuple{Any, ExcPrecisionMode}-exchanges"><code>ExchangeTypes.decimal_to_size</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Converts value v to integer size with precision p.</p><pre><code class="language-julia hljs">decimal_to_size(v, p::ExcPrecisionMode) -&gt; Any
</code></pre><p>Used when converting exchange API responses to integer sizes for orders.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/ExchangeTypes/src/exchange.jl#L100-L105">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExchangeTypes.eids-Tuple-exchanges" href="#ExchangeTypes.eids-Tuple-exchanges"><code>ExchangeTypes.eids</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Union type of many exchange ids (from <code>Symbol</code> arguments)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/ExchangeTypes/src/exchangeid.jl#L71">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExchangeTypes.exchangeid-Tuple{ExchangeID}-exchanges" href="#ExchangeTypes.exchangeid-Tuple{ExchangeID}-exchanges"><code>ExchangeTypes.exchangeid</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Return the given ExchangeID instance.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/ExchangeTypes/src/exchangeid.jl#L69">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExchangeTypes.exchangeid-Tuple{Symbol}-exchanges" href="#ExchangeTypes.exchangeid-Tuple{Symbol}-exchanges"><code>ExchangeTypes.exchangeid</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Create an ExchangeID instance from a symbol.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/ExchangeTypes/src/exchangeid.jl#L67">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExchangeTypes.globalexchange!-Tuple{Exchange}-exchanges" href="#ExchangeTypes.globalexchange!-Tuple{Exchange}-exchanges"><code>ExchangeTypes.globalexchange!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Updates the global exchange <code>exc</code> variable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/ExchangeTypes/src/exchange.jl#L190">source</a></section></article><h2 id="Construct-and-query-exchanges"><a class="docs-heading-anchor" href="#Construct-and-query-exchanges">Construct and query exchanges</a><a id="Construct-and-query-exchanges-1"></a><a class="docs-heading-anchor-permalink" href="#Construct-and-query-exchanges" title="Permalink"></a></h2><p>Helper module for downloading data off exchanges.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Exchanges.LEVERAGED_PAIR_OPTIONS-exchanges" href="#Exchanges.LEVERAGED_PAIR_OPTIONS-exchanges"><code>Exchanges.LEVERAGED_PAIR_OPTIONS</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>A leveraged pair is a pair like <code>BTC3L/USD</code>.</p><ul><li><code>:yes</code> : Leveraged pairs will not be filtered.</li><li><code>:only</code> : ONLY leveraged will be kept.</li><li><code>:from</code> : Selects non leveraged pairs, that also have at least one leveraged sibling.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Exchanges/src/tickers.jl#L9-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Exchanges.activeCache1Min-exchanges" href="#Exchanges.activeCache1Min-exchanges"><code>Exchanges.activeCache1Min</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Caches active states (1minute).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Exchanges/src/tickers.jl#L136">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Exchanges.marketsCache1Min-exchanges" href="#Exchanges.marketsCache1Min-exchanges"><code>Exchanges.marketsCache1Min</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Caches markets (1minute).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Exchanges/src/tickers.jl#L132">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Exchanges.tickersCache10Sec-exchanges" href="#Exchanges.tickersCache10Sec-exchanges"><code>Exchanges.tickersCache10Sec</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Caches tickers (10seconds).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Exchanges/src/tickers.jl#L134">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Exchanges.tickersLockDict-exchanges" href="#Exchanges.tickersLockDict-exchanges"><code>Exchanges.tickersLockDict</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Lock held when fetching tickers (per ticker).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Exchanges/src/tickers.jl#L138">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Exchanges.has_leverage-Tuple{Any, Any}-exchanges" href="#Exchanges.has_leverage-Tuple{Any, Any}-exchanges"><code>Exchanges.has_leverage</code></a> — <span class="docstring-category">Method</span></header><section><div><p>True if <code>pair</code> is a leveraged pair.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Exchanges/src/tickers.jl#L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Exchanges.hasvolume-Tuple{Any, Any}-exchanges" href="#Exchanges.hasvolume-Tuple{Any, Any}-exchanges"><code>Exchanges.hasvolume</code></a> — <span class="docstring-category">Method</span></header><section><div><p>True if symbol <code>sym</code> has a quote volume less than <code>min_vol</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Exchanges/src/tickers.jl#L43">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Exchanges.is_pair_active-exchanges" href="#Exchanges.is_pair_active-exchanges"><code>Exchanges.is_pair_active</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Check if a currency pair is active on an exchange.</p><pre><code class="language-julia hljs">is_pair_active(pair::AbstractString) -&gt; Any
is_pair_active(pair::AbstractString, exc::Exchange) -&gt; Any
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Exchanges/src/tickers.jl#L349-L353">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Exchanges.ismargin-Tuple{Any}-exchanges" href="#Exchanges.ismargin-Tuple{Any}-exchanges"><code>Exchanges.ismargin</code></a> — <span class="docstring-category">Method</span></header><section><div><p>True if <code>mkt</code> is a leveraged market.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Exchanges/src/tickers.jl#L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Exchanges.isquote-Tuple{Any, Any}-exchanges" href="#Exchanges.isquote-Tuple{Any, Any}-exchanges"><code>Exchanges.isquote</code></a> — <span class="docstring-category">Method</span></header><section><div><p>True if <code>id</code> is a quote id.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Exchanges/src/tickers.jl#L18">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Exchanges.lastprice-Tuple{AbstractString, Exchange}-exchanges" href="#Exchanges.lastprice-Tuple{AbstractString, Exchange}-exchanges"><code>Exchanges.lastprice</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Fetch the latest price for a specific pair from an exchange.</p><pre><code class="language-julia hljs">lastprice(
    pair::AbstractString,
    exc::Exchange;
    kwargs...
) -&gt; Any
</code></pre><ul><li><code>pair</code>: a string representing the currency pair to fetch the latest price for.</li><li><code>exc</code>: an Exchange object to fetch the latest price from.</li><li><code>kwargs</code> (optional): any additional keyword arguments are passed on to the underlying fetch operation.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Exchanges/src/tickers.jl#L193-L201">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Exchanges.leverage_func-exchanges" href="#Exchanges.leverage_func-exchanges"><code>Exchanges.leverage_func</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Constructor that returns a function that checks if a pair is leveraged.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Exchanges/src/tickers.jl#L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Exchanges.market!-exchanges" href="#Exchanges.market!-exchanges"><code>Exchanges.market!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Retrieves a cached market (1minute) or fetches it from exchange.</p><pre><code class="language-julia hljs">market!(pair) -&gt; Any
market!(pair, exc::Exchange) -&gt; Any
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Exchanges/src/tickers.jl#L140-L144">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Exchanges.market_fees-exchanges" href="#Exchanges.market_fees-exchanges"><code>Exchanges.market_fees</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Fetch the market fees for a specific pair from an exchange.</p><pre><code class="language-julia hljs">market_fees(
    pair::AbstractString;
    ...
) -&gt; NamedTuple{(:taker, :maker, :min, :max), &lt;:NTuple{4, Any}}
market_fees(
    pair::AbstractString,
    exc::Exchange;
    only_taker
) -&gt; NamedTuple{(:taker, :maker, :min, :max), &lt;:NTuple{4, Any}}
</code></pre><ul><li><code>pair</code>: a string representing the currency pair to fetch the market fees for.</li><li><code>exc</code> (optional, default is the current exchange): an Exchange object to fetch the market fees from.</li><li><code>only_taker</code> (optional, default is <code>nothing</code>): a boolean indicating whether to fetch only the taker fee. If <code>nothing</code>, both maker and taker fees are fetched.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Exchanges/src/tickers.jl#L364-L373">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Exchanges.market_limits-Tuple{AbstractString, Exchange}-exchanges" href="#Exchanges.market_limits-Tuple{AbstractString, Exchange}-exchanges"><code>Exchanges.market_limits</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Fetch the market limits for a specific pair from an exchange.</p><pre><code class="language-julia hljs">market_limits(
    pair::AbstractString,
    exc::Exchange;
    precision,
    default_leverage,
    default_amount,
    default_price,
    default_cost
) -&gt; NamedTuple
</code></pre><ul><li><code>pair</code>: a string representing the currency pair to fetch the market limits for.</li><li><code>exc</code>: an Exchange object to fetch the market limits from.</li><li><code>precision</code> (optional, default is <code>price=nothing, amount=nothing</code>): a named tuple specifying the precision for price and amount.</li><li><code>default_leverage</code> (optional, default is <code>DEFAULT_LEVERAGE</code>): the default leverage to use if not specified in the market data.</li><li><code>default_amount</code> (optional, default is <code>DEFAULT_AMOUNT</code>): the default amount to use if not specified in the market data.</li><li><code>default_price</code> (optional, default is <code>DEFAULT_PRICE</code>): the default price to use if not specified in the market data.</li><li><code>default_cost</code> (optional, default is <code>DEFAULT_COST</code> for non-fiat quote pairs and <code>DEFAULT_FIAT_COST</code> for fiat quote pairs): the default cost to use if not specified in the market data.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Exchanges/src/tickers.jl#L314-L326">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Exchanges.market_precision-Tuple{AbstractString, Exchange}-exchanges" href="#Exchanges.market_precision-Tuple{AbstractString, Exchange}-exchanges"><code>Exchanges.market_precision</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Precision of the (base, quote) currencies of the market.</p><pre><code class="language-julia hljs">market_precision(
    pair::AbstractString,
    exc::Exchange
) -&gt; NamedTuple{(:amount, :price), &lt;:Tuple{Any, Any}}
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Exchanges/src/tickers.jl#L278-L282">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Exchanges.marketsid-Tuple{Exchange, Vararg{Any}}-exchanges" href="#Exchanges.marketsid-Tuple{Exchange, Vararg{Any}}-exchanges"><code>Exchanges.marketsid</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get the exchange market ids.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Exchanges/src/tickers.jl#L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Exchanges.quoteid-Tuple{Any}-exchanges" href="#Exchanges.quoteid-Tuple{Any}-exchanges"><code>Exchanges.quoteid</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Quote id of the market.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Exchanges/src/tickers.jl#L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Exchanges.ticker!-Tuple{Any, Exchange}-exchanges" href="#Exchanges.ticker!-Tuple{Any, Exchange}-exchanges"><code>Exchanges.ticker!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Fetch the ticker for a specific pair from an exchange.</p><pre><code class="language-julia hljs">ticker!(pair, exc::Exchange; timeout, func, delay) -&gt; Any
</code></pre><p>The <code>ticker!</code> function takes the following parameters:</p><ul><li><code>pair</code>: a string representing the currency pair to fetch the ticker for.</li><li><code>exc</code>: an Exchange object to fetch the ticker from.</li><li><code>timeout</code> (optional, default is 3 seconds): the maximum time to wait for the ticker fetch operation.</li><li><code>func</code> (optional, default is the result of <code>_tickerfunc(exc)</code>): the function to use to fetch the ticker.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Exchanges/src/tickers.jl#L150-L161">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Exchanges.tickers-Tuple{Exchange, Any}-exchanges" href="#Exchanges.tickers-Tuple{Exchange, Any}-exchanges"><code>Exchanges.tickers</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get the exchange tickers.</p><pre><code class="language-julia hljs">tickers(
    exc::Exchange,
    quot;
    min_vol,
    skip_fiat,
    with_margin,
    with_leverage,
    as_vec,
    verbose,
    type
)
</code></pre><ul><li><code>exc</code>: an Exchange object to fetch the tickers from.</li><li><code>quot</code>: only choose pairs where the quote currency equals <code>quot</code>.</li><li><code>min_vol</code>: the minimum volume of each pair.</li><li><code>skip_fiat</code> (optional, default is true): ignore fiat/fiat pairs.</li><li><code>with_margin</code> (optional, default is the result of <code>config.margin != NoMargin()</code>): only choose pairs enabled for margin trading.</li><li><code>with_leverage</code> (optional, default is <code>:no</code>): if <code>:no</code>, skip all pairs where the base currency matches the <code>leverage_pair_rgx</code> regex.</li><li><code>as_vec</code> (optional, default is false): return the pair list as a Vector instead of as a Dict.</li><li><code>verbose</code> (optional, default is true): print detailed output about the operation.</li><li><code>type</code> (optional, default is the result of <code>markettype(exc)</code>): the type of markets to fetch tickers for.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Exchanges/src/tickers.jl#L62-L77">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Exchanges.tickers-Tuple{Symbol, Vararg{Any}}-exchanges" href="#Exchanges.tickers-Tuple{Symbol, Vararg{Any}}-exchanges"><code>Exchanges.tickers</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get the tickers matching quote currency <code>quot</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Exchanges/src/tickers.jl#L55">source</a></section></article><h2 id="Fetching-data-from-exchanges"><a class="docs-heading-anchor" href="#Fetching-data-from-exchanges">Fetching data from exchanges</a><a id="Fetching-data-from-exchanges-1"></a><a class="docs-heading-anchor-permalink" href="#Fetching-data-from-exchanges" title="Permalink"></a></h2><p>Helper module for downloading data off exchanges.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.FUNDING_RATES_CACHE-exchanges" href="#Fetch.FUNDING_RATES_CACHE-exchanges"><code>Fetch.FUNDING_RATES_CACHE</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Initializes a safe TTL cache for storing multiple funding rates with a specified TTL.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/funding.jl#L190">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.FUNDING_RATE_CACHE-exchanges" href="#Fetch.FUNDING_RATE_CACHE-exchanges"><code>Fetch.FUNDING_RATE_CACHE</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Initializes a safe TTL cache for storing funding rates with a specified TTL.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/funding.jl#L188">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.FUNDING_RATE_TTL-exchanges" href="#Fetch.FUNDING_RATE_TTL-exchanges"><code>Fetch.FUNDING_RATE_TTL</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Defines the time-to-live (TTL) for a funding rate as 5 seconds.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/funding.jl#L186">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.MAX_ORDERS-exchanges" href="#Fetch.MAX_ORDERS-exchanges"><code>Fetch.MAX_ORDERS</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Defines an array representing possible numbers of orders to fetch.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/orderbook.jl#L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.OB_CACHE-exchanges" href="#Fetch.OB_CACHE-exchanges"><code>Fetch.OB_CACHE</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Initializes a safe TTL cache for storing order book data with the default eviction TTL.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/orderbook.jl#L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.OB_EVICTION_TTL-exchanges" href="#Fetch.OB_EVICTION_TTL-exchanges"><code>Fetch.OB_EVICTION_TTL</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Defines the eviction time-to-live (TTL) for an order book as 5 minutes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/orderbook.jl#L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.OB_FUNCTIONS-exchanges" href="#Fetch.OB_FUNCTIONS-exchanges"><code>Fetch.OB_FUNCTIONS</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Initializes a LittleDict for storing order book functions keyed by order book level and exchange ID.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/orderbook.jl#L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.OB_TTL-exchanges" href="#Fetch.OB_TTL-exchanges"><code>Fetch.OB_TTL</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Defines the time-to-live (TTL) for an order book as 5 seconds (after which it is stale).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/orderbook.jl#L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.OHLCVTupleTypes-exchanges" href="#Fetch.OHLCVTupleTypes-exchanges"><code>Fetch.OHLCVTupleTypes</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Defines the tuple type for OHLCV data, where each element represents a specific metric (Open, High, Low, Close, Volume).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.SINCE_MIN_PERIOD-exchanges" href="#Fetch.SINCE_MIN_PERIOD-exchanges"><code>Fetch.SINCE_MIN_PERIOD</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Used to slide the <code>since</code> param forward when retrying fetching (in case the requested timestamp is too old).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L42">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.futures_limits-exchanges" href="#Fetch.futures_limits-exchanges"><code>Fetch.futures_limits</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Defines limit values for fetching futures data from exchanges.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/funding.jl#L85">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.OrderBookTuple-exchanges" href="#Fetch.OrderBookTuple-exchanges"><code>Fetch.OrderBookTuple</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Defines a NamedTuple structure for order book data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/orderbook.jl#L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.convert-Tuple{Type{Tuple{Vector{Dates.DateTime}, Vararg{Vector{Float64}, 5}}}, Py}-exchanges" href="#Base.convert-Tuple{Type{Tuple{Vector{Dates.DateTime}, Vararg{Vector{Float64}, 5}}}, Py}-exchanges"><code>Base.convert</code></a> — <span class="docstring-category">Method</span></header><section><div><p>This is the fastest (afaik) way to convert ccxt lists to dataframe friendly format.</p><pre><code class="language-julia hljs">convert(
    _::Type{Tuple{Vector{Dates.DateTime}, Vararg{Vector{Float64}, 5}}},
    py::Py
) -&gt; Tuple{Vector{Dates.DateTime}, Vararg{Vector{Float64}}}
</code></pre><p>This function converts the provided Python object to a tuple format suitable for dataframes, specifically tailored for OHLCV data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L56-L63">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Data.propagate_ohlcv!-Tuple{SortedDict, AbstractString, Exchange}-exchanges" href="#Data.propagate_ohlcv!-Tuple{SortedDict, AbstractString, Exchange}-exchanges"><code>Data.propagate_ohlcv!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Propagates OHLCV data to all timeframes in a data structure.</p><pre><code class="language-julia hljs">propagate_ohlcv!(
    data::SortedDict,
    pair::AbstractString,
    exc::Exchange
) -&gt; Union{Nothing, SortedDict{TimeFrames.TimeFrame, DataFrames.DataFrame}}
</code></pre><p>The <code>propagate_ohlcv!</code> function propagates OHLCV data for a given <code>pair</code> from an exchange <code>exc</code> to all timeframes in the <code>data</code> SortedDict data structure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L695-L701">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Data.to_ohlcv-Tuple{Py}-exchanges" href="#Data.to_ohlcv-Tuple{Py}-exchanges"><code>Data.to_ohlcv</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Converts a Python object to a DataFrame with OHLCV columns</p><pre><code class="language-julia hljs">to_ohlcv(py::Py)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L71-L76">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.__ensure_dates-NTuple{4, Any}-exchanges" href="#Fetch.__ensure_dates-NTuple{4, Any}-exchanges"><code>Fetch.__ensure_dates</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Ensures dates are within valid range for the exchange and timeframe.</p><pre><code class="language-julia hljs">__ensure_dates(exc, tf, from, to) -&gt; Tuple{Any, Any}
</code></pre><p>The <code>__ensure_dates</code> function checks if the dates <code>from</code> and <code>to</code> are within the valid range for the given exchange <code>exc</code> and timeframe <code>tf</code>. If the dates are not within the valid range, the function adjusts them accordingly.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L512-L518">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.__from_date_func-NTuple{7, Any}-exchanges" href="#Fetch.__from_date_func-NTuple{7, Any}-exchanges"><code>Fetch.__from_date_func</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Determines the starting date for fetching data.</p><pre><code class="language-julia hljs">__from_date_func(
    update,
    timeframe,
    from,
    to,
    zi,
    exc_name,
    reset
) -&gt; Any
</code></pre><p>The <code>__from_date_func</code> function determines the starting date <code>from</code> for fetching data based on various parameters. If <code>update</code> is true, it will fetch data from the latest date available. If <code>reset</code> is true, it will fetch data from the earliest date possible. The function also considers the <code>timeframe</code>, <code>to</code> date, timezone <code>zi</code>, and exchange name <code>exc_name</code> in its calculations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L525-L531">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.__get_ohlcv-NTuple{5, Any}-exchanges" href="#Fetch.__get_ohlcv-NTuple{5, Any}-exchanges"><code>Fetch.__get_ohlcv</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Fetches OHLCV data for a specified exchange within a date range.</p><pre><code class="language-julia hljs">__get_ohlcv(
    exc,
    name,
    timeframe,
    from_date,
    to;
    out,
    cleanup,
    ohlcv_kind
) -&gt; Tuple{Any, Any}
</code></pre><p>This function fetches OHLCV data for a given exchange <code>exc</code>, with the specified <code>name</code> and <code>timeframe</code>, within the date range specified by <code>from_date</code> and <code>to</code>. The fetched data is appended to the <code>out</code> data structure. The <code>cleanup</code> parameter determines if any post-processing should be done on the data before returning. The <code>ohlcv_kind</code> parameter determines the type of OHLCV data to fetch.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L553-L559">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.__get_since-NTuple{8, Any}-exchanges" href="#Fetch.__get_since-NTuple{8, Any}-exchanges"><code>Fetch.__get_since</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Determines the &#39;since&#39; parameter for fetching data from an exchange.</p><pre><code class="language-julia hljs">__get_since(
    exc,
    fetch_func,
    pair,
    limit,
    from,
    out,
    is_df,
    converter
) -&gt; Any
</code></pre><p>This function calculates the &#39;since&#39; parameter based on the specified &#39;from&#39; timestamp, or finds the appropriate &#39;since&#39; value if &#39;from&#39; is 0.0.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L201-L207">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.__handle_error-NTuple{9, Any}-exchanges" href="#Fetch.__handle_error-NTuple{9, Any}-exchanges"><code>Fetch.__handle_error</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Handles errors during fetch operations.</p><pre><code class="language-julia hljs">__handle_error(
    e,
    fetch_func,
    pair,
    since,
    df,
    sleep_t,
    limit,
    converter,
    retry
) -&gt; Any
</code></pre><p>This function takes an error <code>e</code> occurred during data fetching, and decides whether to retry the <code>fetch_func</code> based on the <code>retry</code> flag. If <code>retry</code> is true, it calls the <code>fetch_func</code> again with the same parameters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L286-L292">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.__handle_fetch-NTuple{9, Any}-exchanges" href="#Fetch.__handle_fetch-NTuple{9, Any}-exchanges"><code>Fetch.__handle_fetch</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Handles fetch operations for specified exchange and pair.</p><pre><code class="language-julia hljs">__handle_fetch(
    fetch_func,
    pair,
    since,
    limit,
    sleep_t,
    df,
    converter,
    retry,
    usetimeframe
) -&gt; Tuple{Bool, Any}
</code></pre><p>This function calls the <code>fetch_func</code> for a given <code>pair</code>, starting from the <code>since</code> timestamp with a maximum limit of <code>limit</code> data points. It employs a delay <code>sleep_t</code> between fetches. The function also applies a given <code>converter</code> to the fetched data. If the <code>retry</code> flag is true, the function will try to fetch data again in case of an empty response. The <code>usetimeframe</code> flag indicates whether to use timeframe for fetching.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L326-L332">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.__ordered_timeframes-Tuple{Exchange}-exchanges" href="#Fetch.__ordered_timeframes-Tuple{Exchange}-exchanges"><code>Fetch.__ordered_timeframes</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns an ordered list of timeframes for a given exchange</p><pre><code class="language-julia hljs">__ordered_timeframes(exc::Exchange) -&gt; Tuple{Any, Any}
</code></pre><p>This function collects the timeframes from the exchange, converts them into periods, and sorts them in descending order. It then returns these sorted timeframes and periods.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L127-L134">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.__pairdata!-NTuple{8, Any}-exchanges" href="#Fetch.__pairdata!-NTuple{8, Any}-exchanges"><code>Fetch.__pairdata!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Processes OHLCV data for a pair.</p><pre><code class="language-julia hljs">__pairdata!(
    zi,
    data,
    ohlcv,
    name,
    timeframe,
    z,
    exc_name,
    reset
) -&gt; Data.PairData
</code></pre><p>The <code>__pairdata!</code> function processes the OHLCV data <code>ohlcv</code> for a pair <code>name</code> over a <code>timeframe</code>. It takes into account the timezone <code>zi</code>, data <code>data</code>, timezone offset <code>z</code>, exchange name <code>exc_name</code>, and a <code>reset</code> flag. If <code>reset</code> is true, it will reset the data for the pair before processing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L604-L610">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch._cleanup_funding_history-NTuple{4, Any}-exchanges" href="#Fetch._cleanup_funding_history-NTuple{4, Any}-exchanges"><code>Fetch._cleanup_funding_history</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Cleans up fetched funding history data.</p><pre><code class="language-julia hljs">_cleanup_funding_history(df, name, half_tf, f_tf) -&gt; Any
</code></pre><p>The <code>_cleanup_funding_history</code> function takes a DataFrame <code>df</code> of fetched funding history data for a <code>name</code> and performs cleanup operations on it. The <code>half_tf</code> and <code>f_tf</code> parameters are used in the cleanup process.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/funding.jl#L157-L163">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch._fetch_loop-Union{Tuple{F}, Tuple{Function, Exchange, Any}} where F&lt;:AbstractFloat-exchanges" href="#Fetch._fetch_loop-Union{Tuple{F}, Tuple{Function, Exchange, Any}} where F&lt;:AbstractFloat-exchanges"><code>Fetch._fetch_loop</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Iteratively fetches data over a specified date range.</p><pre><code class="language-julia hljs">_fetch_loop(
    fetch_func::Function,
    exc::Exchange,
    pair;
    from,
    to,
    sleep_t,
    out,
    converter,
    limit
)
</code></pre><p>This function calls the <code>fetch_func</code> function repeatedly until it has fetched data for the entire date range specified by <code>from</code> and <code>to</code>. Note: The total data points fetched may not match the expected number based on the date range.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L235-L241">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch._fetch_ohlcv_from_to-Tuple{Exchange, Any, Any}-exchanges" href="#Fetch._fetch_ohlcv_from_to-Tuple{Exchange, Any, Any}-exchanges"><code>Fetch._fetch_ohlcv_from_to</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Ensure a <code>to</code> date is set, before fetching.</p><pre><code class="language-julia hljs">_fetch_ohlcv_from_to(
    exc::Exchange,
    pair,
    timeframe;
    from,
    to,
    params,
    sleep_t,
    cleanup,
    out,
    ohlcv_kind
) -&gt; Any
</code></pre><p>This function verifies that a &#39;to&#39; date is set before attempting to fetch OHLCV data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L92-L99">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch._fetch_ohlcv_with_delay-Tuple{Exchange, Vararg{Any}}-exchanges" href="#Fetch._fetch_ohlcv_with_delay-Tuple{Exchange, Vararg{Any}}-exchanges"><code>Fetch._fetch_ohlcv_with_delay</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Fetches OHLCV data with delay for a given exchange and arguments.</p><pre><code class="language-julia hljs">_fetch_ohlcv_with_delay(
    exc::Exchange,
    args...;
    ohlcv_kind,
    kwargs...
) -&gt; Any
</code></pre><p>This function fetches OHLCV data for a specified exchange <code>exc</code> and additional <code>args</code>. The type of OHLCV data to fetch is determined by <code>ohlcv_kind</code>. It applies a delay between fetches as specified in <code>kwargs</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L427-L433">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch._fetch_with_delay-Tuple{Function, Any}-exchanges" href="#Fetch._fetch_with_delay-Tuple{Function, Any}-exchanges"><code>Fetch._fetch_with_delay</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Wraps fetching function with error handling and backoff delay.</p><pre><code class="language-julia hljs">_fetch_with_delay(
    fetch_func::Function,
    pair;
    since,
    df,
    sleep_t,
    limit,
    converter,
    retry,
    usetimeframe
) -&gt; Any
</code></pre><p>This function wraps a fetching function <code>fetch_func</code> with error handling and a backoff delay <code>sleep_t</code>. The <code>fetch_func</code> takes three parameters: <code>pair</code>, <code>since</code>, and <code>limit</code>, and returns a PyList. The <code>converter</code> function is used to tabulate the data such that the first column is the timestamp. The function will retry fetching in case of an error if <code>retry</code> is set to true.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L373-L379">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch._levelname-Tuple{Any}-exchanges" href="#Fetch._levelname-Tuple{Any}-exchanges"><code>Fetch._levelname</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns the name of an order book level.</p><pre><code class="language-julia hljs">_levelname(level) -&gt; String
</code></pre><p>The <code>_levelname</code> function takes an order book <code>level</code> and returns its name.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/orderbook.jl#L39-L45">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch._orderbook-Tuple{Any}-exchanges" href="#Fetch._orderbook-Tuple{Any}-exchanges"><code>Fetch._orderbook</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Generates an order book of depth <code>N</code>.</p><pre><code class="language-julia hljs">_orderbook(
    N
) -&gt; @NamedTuple{busy::Ref{Bool}, timestamp::Ref{Dates.DateTime}, asks::Vector{Tuple{Float64, Float64}}, bids::Vector{Tuple{Float64, Float64}}}
</code></pre><p>The <code>_orderbook</code> function generates an order book of depth <code>N</code>. The order book contains <code>N</code> levels of bid and ask prices along with their corresponding quantities.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/orderbook.jl#L25-L31">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch._since_timestamp-Tuple{Dates.DateTime, Dates.Period}-exchanges" href="#Fetch._since_timestamp-Tuple{Dates.DateTime, Dates.Period}-exchanges"><code>Fetch._since_timestamp</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Determines the start time for fetching data</p><pre><code class="language-julia hljs">_since_timestamp(
    actual::Dates.DateTime,
    p::Dates.Period
) -&gt; Int64
</code></pre><p>This function calculates the timestamp from which to start fetching data. It ensures that the start time is not more than 20 years in the past or less than the given period.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L143-L150">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch._update_orderbook!-NTuple{5, Any}-exchanges" href="#Fetch._update_orderbook!-NTuple{5, Any}-exchanges"><code>Fetch._update_orderbook!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Updates an order book in place with new data.</p><pre><code class="language-julia hljs">_update_orderbook!(exc, ob, sym, lvl, limit; init)
</code></pre><p>The <code>_update_orderbook!</code> function takes an exchange <code>exc</code>, an order book <code>ob</code>, a symbol <code>sym</code>, an order book level <code>lvl</code>, and a limit <code>limit</code>, and updates the order book in place with new data. If <code>init</code> is set, the function will initialize the order book before updating it.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/orderbook.jl#L56-L62">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.extract_futures_data-Tuple{Py}-exchanges" href="#Fetch.extract_futures_data-Tuple{Py}-exchanges"><code>Fetch.extract_futures_data</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Extracts futures data from a Python object.</p><pre><code class="language-julia hljs">extract_futures_data(data::Py) -&gt; DataFrames.DataFrame
</code></pre><p>The <code>extract_futures_data</code> function takes futures data <code>data</code> from a Python object and extracts it into a format suitable for further processing or analysis.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/funding.jl#L69-L75">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.fetch_candles-Tuple{Exchange, AbstractString, Union{AbstractString, AbstractSet, AbstractVector, Tuple{Vararg{T}} where T}}-exchanges" href="#Fetch.fetch_candles-Tuple{Exchange, AbstractString, Union{AbstractString, AbstractSet, AbstractVector, Tuple{Vararg{T}} where T}}-exchanges"><code>Fetch.fetch_candles</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Fetches candlestick data for a list of pairs from an exchange.</p><pre><code class="language-julia hljs">fetch_candles(
    exc::Exchange,
    timeframe::AbstractString,
    pairs::Union{AbstractString, AbstractSet, AbstractVector, Tuple{Vararg{T}} where T};
    from,
    to,
    ohlcv_kind
) -&gt; Any
</code></pre><p>The <code>fetch_candles</code> function fetches candlestick data from a given exchange <code>exc</code> for a list of <code>pairs</code> over a specified <code>timeframe</code>. The <code>from</code> and <code>to</code> parameters define the date range for the fetched data. If <code>from</code> is not provided, it defaults to an empty string, which implies fetching data from the earliest available date. The type of candlestick data to fetch is determined by the <code>ohlcv_kind</code> parameter.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L731-L737">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.fetch_limit-Tuple{Exchange, Union{Nothing, Int64}}-exchanges" href="#Fetch.fetch_limit-Tuple{Exchange, Union{Nothing, Int64}}-exchanges"><code>Fetch.fetch_limit</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Defines the fetch limit for an exchange.</p><pre><code class="language-julia hljs">fetch_limit(
    exc::Exchange,
    limit::Union{Nothing, Int64}
) -&gt; Union{Nothing, Int64}
</code></pre><p>This function fetches the limit for an exchange. If no limit is specified, it retrieves the default limit for the exchange.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L188-L195">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.fetch_ohlcv-Tuple{Exchange, String, Union{AbstractSet{T}, AbstractVector{T}, Tuple{Vararg{T}}} where T}-exchanges" href="#Fetch.fetch_ohlcv-Tuple{Exchange, String, Union{AbstractSet{T}, AbstractVector{T}, Tuple{Vararg{T}}} where T}-exchanges"><code>Fetch.fetch_ohlcv</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Fetches OHLCV data from an exchange for a list of pairs.</p><pre><code class="language-julia hljs">fetch_ohlcv(
    exc::Exchange,
    timeframe::String,
    pairs::Union{AbstractSet{T}, AbstractVector{T}, Tuple{Vararg{T}}} where T;
    zi,
    from,
    to,
    update,
    reset,
    progress,
    ohlcv_kind
) -&gt; Dict{String, Data.PairData}
</code></pre><p>This function fetches OHLCV data from a given exchange <code>exc</code> for a list of <code>pairs</code> over a specified <code>timeframe</code>. The <code>from</code> and <code>to</code> parameters can represent dates or, if <code>from</code> is a negative number, the function fetches the last N=<code>from</code> candles. If <code>update</code> is true, the function checks for cached data and only fetches missing candles. If <code>reset</code> is true, the function removes cached data before fetching. The <code>progress</code> parameter determines whether a progress bar is shown. The type of OHLCV data to fetch is defined by the <code>ohlcv_kind</code> parameter.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L624-L630">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.fetch_ohlcv-Tuple{Val{:ask}, Vararg{Any}}-exchanges" href="#Fetch.fetch_ohlcv-Tuple{Val{:ask}, Vararg{Any}}-exchanges"><code>Fetch.fetch_ohlcv</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Prompts user for confirmation before fetching OHLCV data.</p><pre><code class="language-julia hljs">fetch_ohlcv(::Val{:ask}, args...; kwargs...) -&gt; Any
</code></pre><p>This function prompts the user for confirmation before fetching OHLCV data for the specified arguments <code>args</code> and keyword arguments <code>kwargs</code>. If the user inputs &#39;Y&#39;, &#39;y&#39;, or simply presses Enter, it proceeds with the <code>fetch_ohlcv</code> function. If any other input is given, the function returns <code>nothing</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L459-L465">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.fetch_ohlcv-Tuple{Vector{Exchange}, Any}-exchanges" href="#Fetch.fetch_ohlcv-Tuple{Vector{Exchange}, Any}-exchanges"><code>Fetch.fetch_ohlcv</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Fetches OHLCV data for multiple exchanges on the same timeframe.</p><pre><code class="language-julia hljs">fetch_ohlcv(
    excs::Vector{Exchange},
    timeframe;
    sandbox,
    parallel,
    wait_task,
    kwargs...
) -&gt; Union{Nothing, Task}
</code></pre><p>This function fetches OHLCV data for multiple exchanges over the same timeframe. It accepts:</p><ul><li>A vector of exchange instances <code>excs</code>.</li><li>The desired timeframe <code>timeframe</code>.</li></ul><p>The function can run in parallel if <code>parallel</code> is set to true. If <code>wait_task</code> is set to true, the function will wait for all tasks to complete before returning.</p><p>You can provide additional parameters using <code>kwargs</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L472-L484">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.find_since-Tuple{Exchange, Any}-exchanges" href="#Fetch.find_since-Tuple{Exchange, Any}-exchanges"><code>Fetch.find_since</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns the oldest possible timestamp for a pair.</p><pre><code class="language-julia hljs">find_since(exc::Exchange, pair) -&gt; Any
</code></pre><p>This function iterates over the timeframes and periods of the exchange to find the oldest available timestamp for a given pair. If no data is found in any timeframe, it defaults to 1 day in the past.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L155-L162">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.funding_data-Tuple{Exchange, AbstractString}-exchanges" href="#Fetch.funding_data-Tuple{Exchange, AbstractString}-exchanges"><code>Fetch.funding_data</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Retrieves all or a subset of funding data for a symbol from an exchange.</p><pre><code class="language-julia hljs">funding_data(exc::Exchange, sym::AbstractString) -&gt; Any
</code></pre><p>The <code>funding_data</code> function retrieves all funding data returned by an exchange <code>exc</code> for a symbol <code>sym</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/funding.jl#L12-L18">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.funding_history-Tuple{Exchange, Vector}-exchanges" href="#Fetch.funding_history-Tuple{Exchange, Vector}-exchanges"><code>Fetch.funding_history</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Fetches funding rate history from an exchange for a list of <code>Derivative</code> pairs.</p><pre><code class="language-julia hljs">funding_history(
    exc::Exchange,
    assets::Vector;
    from,
    to,
    params,
    sleep_t,
    limit,
    cleanup
) -&gt; Dict
</code></pre><p>The <code>funding_history</code> function fetches funding rate history from a given exchange <code>exc</code> for a list of <code>assets</code>. The <code>from</code> and <code>to</code> parameters define the date range for which to fetch the funding rate history. Additional parameters can be specified through the <code>params</code> dictionary. The function will wait for <code>sleep_t</code> seconds between each request to the exchange. The <code>limit</code> parameter can be used to limit the amount of data fetched. If <code>cleanup</code> is set to true, the function will perform a cleanup on the fetched data before returning it.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/funding.jl#L88-L94">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.funding_rate-Tuple{Exchange, AbstractString}-exchanges" href="#Fetch.funding_rate-Tuple{Exchange, AbstractString}-exchanges"><code>Fetch.funding_rate</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Retrieves the funding rate for a symbol from an exchange.</p><pre><code class="language-julia hljs">funding_rate(exc::Exchange, s::AbstractString) -&gt; Any
</code></pre><p>The <code>funding_rate</code> function retrieves the funding rate for a symbol <code>s</code> from an exchange <code>exc</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/funding.jl#L28-L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.ohlcv_func_bykind-Tuple{Any, Any}-exchanges" href="#Fetch.ohlcv_func_bykind-Tuple{Any, Any}-exchanges"><code>Fetch.ohlcv_func_bykind</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns the appropriate OHLCV fetching function based on the specified kind.</p><pre><code class="language-julia hljs">ohlcv_func_bykind(exc, kind) -&gt; Any
</code></pre><p>The <code>ohlcv_func_bykind</code> function determines and returns the appropriate OHLCV fetching function for the given exchange <code>exc</code> and <code>kind</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L408-L414">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.orderbook-Tuple{Any, Any}-exchanges" href="#Fetch.orderbook-Tuple{Any, Any}-exchanges"><code>Fetch.orderbook</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Fetches an order book from an exchange for a symbol.</p><pre><code class="language-julia hljs">orderbook(exc, sym; limit, level) -&gt; Any
</code></pre><p>The <code>orderbook</code> function fetches an order book from an exchange <code>exc</code> for a symbol <code>sym</code>. The <code>limit</code> parameter can be used to limit the depth of the order book. The <code>level</code> parameter specifies the level of the order book to fetch.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/orderbook.jl#L109-L115">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.parse_funding_row-Tuple{Py}-exchanges" href="#Fetch.parse_funding_row-Tuple{Py}-exchanges"><code>Fetch.parse_funding_row</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Parses a row of funding data from a Python object.</p><pre><code class="language-julia hljs">parse_funding_row(r::Py) -&gt; Tuple{Int64, String, Float64}
</code></pre><p>The <code>parse_funding_row</code> function takes a row of funding data <code>r</code> from a Python object and parses it into a format suitable for further processing or analysis.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/funding.jl#L60-L66">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Fetch.update_ohlcv!-Tuple{DataFrames.DataFrame, Any, Any, Any}-exchanges" href="#Fetch.update_ohlcv!-Tuple{DataFrames.DataFrame, Any, Any, Any}-exchanges"><code>Fetch.update_ohlcv!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Updates the tail of an OHLCV DataFrame with the most recent candles.</p><pre><code class="language-julia hljs">update_ohlcv!(
    df::DataFrames.DataFrame,
    pair,
    exc,
    tf;
    ohlcv_kind,
    from
) -&gt; DataFrames.DataFrame
</code></pre><p>The <code>update_ohlcv!</code> function updates the tail of an OHLCV DataFrame <code>df</code> with the most recent candles for a given <code>pair</code> from an exchange <code>exc</code> over a timeframe <code>tf</code>. The type of OHLCV data to update is determined by the <code>ohlcv_kind</code> parameter.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/1c09c4038ec782bbc66ca99f955a2e3df8e280a8/Fetch/src/impl.jl#L662-L668">source</a></section></article><p>[1]: It is possible that in the future the bot will work with the hummingbot gateway for DEX support, and at least another exchange type natively implemented (from panifie).</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../engine/features/">« Features</a><a class="docs-footer-nextpage" href="../data/">Data »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.1 on <span class="colophon-date" title="Tuesday 25 June 2024 15:40">Tuesday 25 June 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
