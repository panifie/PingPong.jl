<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Devdocs · PingPong.jl</title><meta name="title" content="Devdocs · PingPong.jl"/><meta property="og:title" content="Devdocs · PingPong.jl"/><meta property="twitter:title" content="Devdocs · PingPong.jl"/><meta name="description" content="Documentation for PingPong.jl."/><meta property="og:description" content="Documentation for PingPong.jl."/><meta property="twitter:description" content="Documentation for PingPong.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../presentation/"><img src="../assets/logo.png" alt="PingPong.jl logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><span class="tocitem">Introduction</span><ul><li><a class="tocitem" href="../presentation/">Why PingPong?</a></li><li><a class="tocitem" href="../">What is PingPong?</a></li></ul></li><li><a class="tocitem" href="../types/">Types</a></li><li><a class="tocitem" href="../strategy/">Strategies</a></li><li><span class="tocitem">Engine</span><ul><li><a class="tocitem" href="../engine/engine/">Executors</a></li><li><a class="tocitem" href="../engine/backtesting/">Backtesting</a></li><li><a class="tocitem" href="../engine/paper/">Paper</a></li><li><a class="tocitem" href="../engine/live/">Live</a></li><li><a class="tocitem" href="../engine/features/">Features</a></li></ul></li><li><a class="tocitem" href="../exchanges/">Exchanges</a></li><li><a class="tocitem" href="../data/">Data</a></li><li><span class="tocitem">Watchers</span><ul><li><a class="tocitem" href="../watchers/watchers/">Interface</a></li><li><input class="collapse-toggle" id="menuitem-7-2" type="checkbox"/><label class="tocitem" for="menuitem-7-2"><span class="docs-label">Apis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../watchers/apis/coingecko/">CoinGecko</a></li><li><a class="tocitem" href="../watchers/apis/coinpaprika/">CoinPaprika</a></li><li><a class="tocitem" href="../watchers/apis/coinmarketcap/">CoinMarketCap</a></li></ul></li></ul></li><li><a class="tocitem" href="../stats/">Stats</a></li><li><a class="tocitem" href="../optimization/">Optimization</a></li><li><a class="tocitem" href="../plotting/">Plotting</a></li><li><span class="tocitem">Misc</span><ul><li><a class="tocitem" href="../config/">Config</a></li><li><a class="tocitem" href="../disambiguation/">Disambiguation (Glossary)</a></li><li><a class="tocitem" href="../troubleshooting/">Troubleshooting</a></li><li class="is-active"><a class="tocitem" href>Devdocs</a><ul class="internal"><li><a class="tocitem" href="#PingPongDev-Documentation"><span>PingPongDev Documentation</span></a></li></ul></li><li><a class="tocitem" href="../contacts/">Contacts</a></li></ul></li><li><span class="tocitem">Customizations</span><ul><li><a class="tocitem" href="../customizations/customizations/">Overview</a></li><li><a class="tocitem" href="../customizations/orders/">Orders</a></li><li><a class="tocitem" href="../customizations/backtest/">Backtester</a></li><li><a class="tocitem" href="../customizations/exchanges/">Exchanges</a></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../API/collections/">Collections</a></li><li><a class="tocitem" href="../API/data/">Data</a></li><li><a class="tocitem" href="../API/ccxt/">Ccxt</a></li><li><a class="tocitem" href="../API/dfutils/">DataFrame utils</a></li><li><a class="tocitem" href="../API/executors/">Executors</a></li><li><a class="tocitem" href="../API/exchanges/">Exchanges</a></li><li><a class="tocitem" href="../API/fetch/">Fetch module</a></li><li><a class="tocitem" href="../API/engine/">Engine</a></li><li><a class="tocitem" href="../API/instances/">Instances</a></li><li><a class="tocitem" href="../API/instruments/">Instruments</a></li><li><a class="tocitem" href="../API/misc/">Misc</a></li><li><a class="tocitem" href="../API/optimization/">Optimization</a></li><li><a class="tocitem" href="../API/pbar/">Pbar</a></li><li><a class="tocitem" href="../API/plotting/">Plotting</a></li><li><a class="tocitem" href="../API/prices/">Prices</a></li><li><a class="tocitem" href="../API/processing/">Processing</a></li><li><a class="tocitem" href="../API/python/">Python</a></li><li><a class="tocitem" href="../API/stats/">Stats</a></li><li><a class="tocitem" href="../API/strategies/">Strategies</a></li><li><input class="collapse-toggle" id="menuitem-13-20" type="checkbox"/><label class="tocitem" for="menuitem-13-20"><span class="docs-label">Analysis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../API/analysis/analysis/">Analysis</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Misc</a></li><li class="is-active"><a href>Devdocs</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Devdocs</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/panifie/PingPong.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/panifie/PingPong.jl/blob/master/docs/src/devdocs.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h2 id="PingPongDev-Documentation"><a class="docs-heading-anchor" href="#PingPongDev-Documentation">PingPongDev Documentation</a><a id="PingPongDev-Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#PingPongDev-Documentation" title="Permalink"></a></h2><p>The <code>PingPongDev</code> package assists developers by providing helper functions for working with PingPong and for conducting tests.</p><h3 id="Precompilation-Control"><a class="docs-heading-anchor" href="#Precompilation-Control">Precompilation Control</a><a id="Precompilation-Control-1"></a><a class="docs-heading-anchor-permalink" href="#Precompilation-Control" title="Permalink"></a></h3><p>To skip precompilation for selected modules, set the <code>JULIA_NOPRECOMP</code> environment variable:</p><pre><code class="language-julia hljs">ENV[&quot;JULIA_NOPRECOMP&quot;] = (:PingPong, :Scrapers, :Engine, :Watchers, :Plotting, :Stats)</code></pre><p>Alternatively, you can manage environment variables with <code>direnv</code> (refer to the <code>.envrc</code> in the repository). To disable precompilation entirely for certain packages, use <code>JULIA_NOPRECOMP=all</code>. This is recommended only when altering low-level components of the module stack. Remember to clear the compilation cache when changing precompilation settings:</p><pre><code class="language-julia hljs">include(&quot;resolve.jl&quot;)
purge_compilecache() # Pass a package name as an argument to clear its specific cache.</code></pre><p>The <code>Exchanges</code> and <code>Fetch</code> packages contain a <code>compile.jl</code> file to generate precompile statements using <a href="https://github.com/aminya/CompileBot.jl">CompileBot.jl</a>. This is particularly useful for precompilation tasks that involve numerous web requests. However, this method is not currently used as it does not compile as many methods as <code>PrecompileTools</code>.</p><div class="admonition is-warning"><header class="admonition-header">Custom Precompilation</header><div class="admonition-body"><p>For custom method precompilation, enclose your code with <code>py_start_loop</code> and <code>py_stop_loop</code> from the Python package to prevent Pkg from stalling due to lingering threads.</p><pre><code class="language-julia hljs">using PrecompileTools
Python.py_stop_loop() # Stop the Python loop if it&#39;s running
Python.py_start_loop()
@precompile_workload $(myworkload...)
Python.py_stop_loop()</code></pre></div></div><h3 id="Method-Invalidation-Strategy"><a class="docs-heading-anchor" href="#Method-Invalidation-Strategy">Method Invalidation Strategy</a><a id="Method-Invalidation-Strategy-1"></a><a class="docs-heading-anchor-permalink" href="#Method-Invalidation-Strategy" title="Permalink"></a></h3><p>The order of <code>using ...</code> statements when loading modules can influence method invalidation. To minimize invalidation, arrange the module imports starting with the ones most likely to cause invalidations to the ones least likely. For instance, placing <code>using Python</code> at the beginning can expedite loading times:</p><pre><code class="language-julia hljs"># Load modules that heavily trigger invalidations first
using Python
using Ccxt
# Load less impactful modules later
using Timeticks
using Lang</code></pre><p>Modules known for heavy invalidations:</p><ul><li>Python</li><li>Ccxt (initiates the Python async loop)</li><li>Data (relies on Zarr and DataFrames)</li><li>Plots (depends on Makie)</li></ul><p>To reduce invalidations, include external modules in only one local package and then use that package as a dependency in other local packages. For instance, if <code>DataFrames</code> is a dependency of the local package <code>Data</code>, and you want to use <code>DataFrames</code> in the <code>Stats</code> package, do not add <code>DataFrames</code> to <code>Stats</code> dependencies. Instead, use <code>Data</code> and import <code>DataFrames</code> from there:</p><pre><code class="language-julia hljs">module Stats

using Data.DataFrames

# ...
end</code></pre><h3 id="Handling-Segfaults"><a class="docs-heading-anchor" href="#Handling-Segfaults">Handling Segfaults</a><a id="Handling-Segfaults-1"></a><a class="docs-heading-anchor-permalink" href="#Handling-Segfaults" title="Permalink"></a></h3><p>In rare cases involving complex multi-threaded scenarios, disable and re-enable the garbage collector (GC) around the loading of PingPong to avoid segmentation faults:</p><pre><code class="language-julia hljs">GC.enable(false)
using PingPong
s = st.strategy()
GC.enable(true)
GC.gc()</code></pre><p>Refer to https://github.com/cjdoris/PythonCall.jl/issues/201 for more details.</p><h3 id="Dependency-Management"><a class="docs-heading-anchor" href="#Dependency-Management">Dependency Management</a><a id="Dependency-Management-1"></a><a class="docs-heading-anchor-permalink" href="#Dependency-Management" title="Permalink"></a></h3><p>When adding dependencies, ensure that a dependency is only included in one subpackage. If you need the same dependency in another subpackage, add the first subpackage as the dependency, not the external module.</p><p>The order of <code>using</code> or <code>import</code> statements within packages is crucial. Always import ```</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../troubleshooting/">« Troubleshooting</a><a class="docs-footer-nextpage" href="../contacts/">Contacts »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.0 on <span class="colophon-date" title="Saturday 27 April 2024 08:28">Saturday 27 April 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
