<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Interface · PingPong.jl</title><meta name="title" content="Interface · PingPong.jl"/><meta property="og:title" content="Interface · PingPong.jl"/><meta property="twitter:title" content="Interface · PingPong.jl"/><meta name="description" content="Documentation for PingPong.jl."/><meta property="og:description" content="Documentation for PingPong.jl."/><meta property="twitter:description" content="Documentation for PingPong.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../presentation/"><img src="../../assets/logo.png" alt="PingPong.jl logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><span class="tocitem">Introduction</span><ul><li><a class="tocitem" href="../../presentation/">Why PingPong?</a></li><li><a class="tocitem" href="../../">What is PingPong?</a></li></ul></li><li><a class="tocitem" href="../../types/">Types</a></li><li><a class="tocitem" href="../../strategy/">Strategies</a></li><li><span class="tocitem">Engine</span><ul><li><a class="tocitem" href="../../engine/engine/">Executors</a></li><li><a class="tocitem" href="../../engine/backtesting/">Backtesting</a></li><li><a class="tocitem" href="../../engine/paper/">Paper</a></li><li><a class="tocitem" href="../../engine/live/">Live</a></li><li><a class="tocitem" href="../../engine/features/">Features</a></li></ul></li><li><a class="tocitem" href="../../exchanges/">Exchanges</a></li><li><a class="tocitem" href="../../data/">Data</a></li><li><span class="tocitem">Watchers</span><ul><li class="is-active"><a class="tocitem" href>Interface</a><ul class="internal"><li><a class="tocitem" href="#User-Interface"><span>User Interface</span></a></li><li><a class="tocitem" href="#Implementation-Interface"><span>Implementation Interface</span></a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7-2" type="checkbox"/><label class="tocitem" for="menuitem-7-2"><span class="docs-label">Apis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../apis/coingecko/">CoinGecko</a></li><li><a class="tocitem" href="../apis/coinpaprika/">CoinPaprika</a></li><li><a class="tocitem" href="../apis/coinmarketcap/">CoinMarketCap</a></li></ul></li></ul></li><li><a class="tocitem" href="../../stats/">Stats</a></li><li><a class="tocitem" href="../../optimization/">Optimization</a></li><li><a class="tocitem" href="../../plotting/">Plotting</a></li><li><span class="tocitem">Misc</span><ul><li><a class="tocitem" href="../../config/">Config</a></li><li><a class="tocitem" href="../../disambiguation/">Disambiguation (Glossary)</a></li><li><a class="tocitem" href="../../troubleshooting/">Troubleshooting</a></li><li><a class="tocitem" href="../../devdocs/">Devdocs</a></li><li><a class="tocitem" href="../../contacts/">Contacts</a></li></ul></li><li><span class="tocitem">Customizations</span><ul><li><a class="tocitem" href="../../customizations/customizations/">Overview</a></li><li><a class="tocitem" href="../../customizations/orders/">Orders</a></li><li><a class="tocitem" href="../../customizations/backtest/">Backtester</a></li><li><a class="tocitem" href="../../customizations/exchanges/">Exchanges</a></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../../API/collections/">Collections</a></li><li><a class="tocitem" href="../../API/data/">Data</a></li><li><a class="tocitem" href="../../API/ccxt/">Ccxt</a></li><li><a class="tocitem" href="../../API/dfutils/">DataFrame utils</a></li><li><a class="tocitem" href="../../API/executors/">Executors</a></li><li><a class="tocitem" href="../../API/exchanges/">Exchanges</a></li><li><a class="tocitem" href="../../API/fetch/">Fetch module</a></li><li><a class="tocitem" href="../../API/engine/">Engine</a></li><li><a class="tocitem" href="../../API/instances/">Instances</a></li><li><a class="tocitem" href="../../API/instruments/">Instruments</a></li><li><a class="tocitem" href="../../API/misc/">Misc</a></li><li><a class="tocitem" href="../../API/optimization/">Optimization</a></li><li><a class="tocitem" href="../../API/pbar/">Pbar</a></li><li><a class="tocitem" href="../../API/plotting/">Plotting</a></li><li><a class="tocitem" href="../../API/prices/">Prices</a></li><li><a class="tocitem" href="../../API/processing/">Processing</a></li><li><a class="tocitem" href="../../API/python/">Python</a></li><li><a class="tocitem" href="../../API/stats/">Stats</a></li><li><a class="tocitem" href="../../API/strategies/">Strategies</a></li><li><input class="collapse-toggle" id="menuitem-13-20" type="checkbox"/><label class="tocitem" for="menuitem-13-20"><span class="docs-label">Analysis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../API/analysis/analysis/">Analysis</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Watchers</a></li><li class="is-active"><a href>Interface</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Interface</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/panifie/PingPong.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/panifie/PingPong.jl/blob/master/docs/src/watchers/watchers.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Watchers"><a class="docs-heading-anchor" href="#Watchers">Watchers</a><a id="Watchers-1"></a><a class="docs-heading-anchor-permalink" href="#Watchers" title="Permalink"></a></h1><p>A <code>Watcher</code> type serves as an interface over a data feed. Implementations are available for certain third-party APIs, exchange OHLCV (Open, High, Low, Close, Volume) data construction, and order books.</p><h2 id="User-Interface"><a class="docs-heading-anchor" href="#User-Interface">User Interface</a><a id="User-Interface-1"></a><a class="docs-heading-anchor-permalink" href="#User-Interface" title="Permalink"></a></h2><p>To instantiate a watcher, call its related function. For example, <code>ccxt_ohlcv_watcher</code> can be used to instantiate a watcher that tracks trade data from an exchange and builds OHLCV candles for the specified timeframe. </p><p>A watcher instance provides the following functions:</p><ul><li><code>get</code>: Primarily used to retrieve the underlying data monitored by the watcher, usually in a processed state (like a <code>DataFrame</code>). It defaults to the watcher buffer (which <em>should</em> keep data in a raw state).</li><li><code>length</code>: Returns the length of the underlying buffer.</li><li><code>last</code>: Returns the last raw value of the underlying buffer.</li><li><code>close</code>: Stops the watcher and flushes the buffer.</li><li><code>isstale</code>: Evaluates if the watcher is in a degraded state, e.g., when it can&#39;t fetch new data.</li><li><code>fetch!</code>: A watcher runs queries at specified intervals, so you should only use <code>fetch!</code> when you want to ensure that the watcher has the latest data.</li><li><code>flush!</code>: Like <code>fetch!</code>, the watcher already flushes at predetermined intervals. Use this only to ensure flushing in case of shutdown. The watcher <em>does</em> call flush on destruction through its finalizer, but it does so asynchronously and doesn&#39;t ensure the success of the flush operation.</li><li><code>delete!</code>: Deletes the watcher data from the storage backend used by <code>flush!</code> (and empties the buffer).</li><li><code>deleteat!</code>: Deletes the watcher data within a date range (and empties the buffer).</li><li><code>push!</code>: Adds an element to the elements the watcher subscribes to (if any).</li><li><code>pop!</code>: Opposite of <code>push!</code>.</li><li><code>stop</code>: Stops the watcher.</li><li><code>start</code>: Restarts the watcher.</li></ul><h2 id="Implementation-Interface"><a class="docs-heading-anchor" href="#Implementation-Interface">Implementation Interface</a><a id="Implementation-Interface-1"></a><a class="docs-heading-anchor-permalink" href="#Implementation-Interface" title="Permalink"></a></h2><p>To implement a custom watcher, you need to define functions such that dispatch happens through the watcher name interpreted as a value <code>Val{Symbol(my_watcher_name)}</code>. So a function needs to have a signature like <code>_fetch!(w::Watcher, ::Val{some_symbol})</code>.</p><h3 id="Required"><a class="docs-heading-anchor" href="#Required">Required</a><a id="Required-1"></a><a class="docs-heading-anchor-permalink" href="#Required" title="Permalink"></a></h3><ul><li><code>_fetch!</code>: Fetches the data, like an HTTP request.</li><li><code>_get</code>: Returns the post-processed data, like a <code>DataFrame</code>.</li></ul><h3 id="Optional"><a class="docs-heading-anchor" href="#Optional">Optional</a><a id="Optional-1"></a><a class="docs-heading-anchor-permalink" href="#Optional" title="Permalink"></a></h3><ul><li><code>_init!</code>: Performs initialization routines.</li><li><code>_load!</code>: Pre-fills the watcher buffer on construction. It is only called once and runs after <code>_init!</code>.</li><li><code>_flush!</code>: Saves the watcher buffer somewhere on periodic intervals and on watcher destruction.</li><li><code>_process!</code>: Updates the <em>view</em> of the raw data, which is what the <em>get</em> function should return.</li><li><code>_delete!</code>: Deletes <em>all</em> the storage data of the watcher.</li><li><code>_deleteat!</code>: Deletes the storage data of the watcher within a date range <code>(from, to)</code>.</li><li><code>_push!</code>: Watchers might manage a list of things to track (like <code>Asset</code> symbols).</li><li><code>_pop!</code>: Inverse of <code>_push!</code>.</li><li><code>_start</code>: Executed before starting the timer.</li><li><code>_stop</code>: Executed after stopping the timer.</li></ul><p>Refer to the <code>Watchers</code> and <code>WatchersImpls</code> modules for helper functions.</p><p>Watchers are heavy data structures, try to not use many of them, or join multiple jobs into fewer watchers. If you need an high number of multiple asynchronous fetchers rely instead on tasks (<code>Task</code>) or consider using <a href="https://github.com/biaslab/Rocket.jl"><code>Rocket.jl</code></a>.</p><h3 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.Watchers-watchers-watchers" href="#Watchers.Watchers-watchers-watchers"><code>Watchers.Watchers</code></a> — <span class="docstring-category">Module</span></header><section><div><p>Watchers are data feeds, that keep track of stale data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/Watchers.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.Beacon-watchers-watchers" href="#Watchers.Beacon-watchers-watchers"><code>Watchers.Beacon</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The flags that control which operations are notified by the watcher</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/module.jl#L134">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.Capacity-watchers-watchers" href="#Watchers.Capacity-watchers-watchers"><code>Watchers.Capacity</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The capacity parameters for the watcher</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/module.jl#L132">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.Exec-watchers-watchers" href="#Watchers.Exec-watchers-watchers"><code>Watchers.Exec</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The execution variables for the watcher</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/module.jl#L127">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.HasFunction-watchers-watchers" href="#Watchers.HasFunction-watchers-watchers"><code>Watchers.HasFunction</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The flags that control which operations are performed by the watcher</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/module.jl#L123">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.Interval-watchers-watchers" href="#Watchers.Interval-watchers-watchers"><code>Watchers.Interval</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The interval parameters for the watcher</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/module.jl#L125">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.Watcher-watchers-watchers" href="#Watchers.Watcher-watchers-watchers"><code>Watchers.Watcher</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Watchers manage data, they pull from somewhere, keep a cache in memory, and optionally flush periodically to persistent storage.</p><ul><li><p><code>buffer</code></p></li><li><p><code>name</code></p></li><li><p><code>has</code></p></li><li><p><code>interval</code></p></li><li><p><code>capacity</code></p></li><li><p><code>beacon</code></p></li><li><p><code>_exec</code></p></li><li><p><code>_val</code></p></li><li><p><code>_stop</code>: Flag to stop the watcher</p></li><li><p><code>_timer</code>: A Timer object used to schedule fetch operations for a watcher</p></li><li><p><code>attempts</code>: Tracks how many consecutive fails have occurred in case of fetching failure</p></li><li><p><code>last_fetch</code>: The most recent time a fetch operation failed</p></li><li><p><code>last_flush</code>: The most recent time the flush function was called</p></li><li><p><code>attrs</code>: Additional attributes for the watcher</p></li></ul><p>A <code>Watcher</code> is a mutable struct that manages data. It pulls data from a source, keeps a cache in memory, and optionally flushes the data to persistent storage periodically. The struct contains fields for managing the buffer, scheduling fetch operations, and handling fetch failures.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/module.jl#L137-L143">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.close-Tuple{Watcher}-watchers-watchers" href="#Base.close-Tuple{Watcher}-watchers-watchers"><code>Base.close</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Stops the watcher and optionally flushes the data.</p><pre><code class="language-julia hljs">close(w::Watcher; doflush)
</code></pre><p>The function takes a watcher and an optional doflush argument. If the watcher is not stopped, it stops the watcher. If doflush is true, it flushes the watcher data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L118-L124">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.delete!-Tuple{Watcher}-watchers-watchers" href="#Base.delete!-Tuple{Watcher}-watchers-watchers"><code>Base.delete!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Deletes all watcher data from storage backend. Also empties the buffer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L168">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.deleteat!-Tuple{Watcher, @NamedTuple{start::Dates.DateTime, stop::Dates.DateTime}}-watchers-watchers" href="#Base.deleteat!-Tuple{Watcher, @NamedTuple{start::Dates.DateTime, stop::Dates.DateTime}}-watchers-watchers"><code>Base.deleteat!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Delete watcher data from storage backend within the date range specified.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.empty!-Tuple{Watcher}-watchers-watchers" href="#Base.empty!-Tuple{Watcher}-watchers-watchers"><code>Base.empty!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Empty the watcher buffer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L147">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.get-Tuple{Watcher, Any}-watchers-watchers" href="#Base.get-Tuple{Watcher, Any}-watchers-watchers"><code>Base.get</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns the processed <code>view</code> of the watcher data. Accessible also as a <code>view</code> property of the watcher object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L154">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.isempty-Tuple{Watcher}-watchers-watchers" href="#Base.isempty-Tuple{Watcher}-watchers-watchers"><code>Base.isempty</code></a> — <span class="docstring-category">Method</span></header><section><div><p>True if the watcher buffer is empty.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L105">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.islocked-Tuple{Watcher, Val{:buffer}}-watchers-watchers" href="#Base.islocked-Tuple{Watcher, Val{:buffer}}-watchers-watchers"><code>Base.islocked</code></a> — <span class="docstring-category">Method</span></header><section><div><p>True if the buffer lock is locked.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L216">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.islocked-Tuple{Watcher}-watchers-watchers" href="#Base.islocked-Tuple{Watcher}-watchers-watchers"><code>Base.islocked</code></a> — <span class="docstring-category">Method</span></header><section><div><p>True if watcher if the fetch lock locked.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L214">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.last-Tuple{Watcher}-watchers-watchers" href="#Base.last-Tuple{Watcher}-watchers-watchers"><code>Base.last</code></a> — <span class="docstring-category">Method</span></header><section><div><p>The last available data entry.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L103">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.length-Tuple{Watcher}-watchers-watchers" href="#Base.length-Tuple{Watcher}-watchers-watchers"><code>Base.length</code></a> — <span class="docstring-category">Method</span></header><section><div><p>The length of the watcher buffer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L107">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.lock-Tuple{Any, Watcher, Val{:buffer}}-watchers-watchers" href="#Base.lock-Tuple{Any, Watcher, Val{:buffer}}-watchers-watchers"><code>Base.lock</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Lock the buffer lock and execute <code>f</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L224">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.lock-Tuple{Any, Watcher}-watchers-watchers" href="#Base.lock-Tuple{Any, Watcher}-watchers-watchers"><code>Base.lock</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Lock the fetch lock and execute <code>f</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L218">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.lock-Tuple{Watcher, Val{:buffer}}-watchers-watchers" href="#Base.lock-Tuple{Watcher, Val{:buffer}}-watchers-watchers"><code>Base.lock</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Lock the buffer lock.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L237">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.lock-Tuple{Watcher}-watchers-watchers" href="#Base.lock-Tuple{Watcher}-watchers-watchers"><code>Base.lock</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Lock the fetch lock.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L230">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.pop!-Tuple{Watcher, Any, Vararg{Any}}-watchers-watchers" href="#Base.pop!-Tuple{Watcher, Any, Vararg{Any}}-watchers-watchers"><code>Base.pop!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Remove <code>v</code> from the things the watcher is fetching.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L94">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.push!-Tuple{Watcher, Any, Vararg{Any}}-watchers-watchers" href="#Base.push!-Tuple{Watcher, Any, Vararg{Any}}-watchers-watchers"><code>Base.push!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Add <code>v</code> to the things the watcher is fetching.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L90">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.unlock-Tuple{Watcher, Val{:buffer}}-watchers-watchers" href="#Base.unlock-Tuple{Watcher, Val{:buffer}}-watchers-watchers"><code>Base.unlock</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Unlock the buffer lock.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L249">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.unlock-Tuple{Watcher}-watchers-watchers" href="#Base.unlock-Tuple{Watcher}-watchers-watchers"><code>Base.unlock</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Unlock the fetch lock.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L244">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Data.DFUtils.lastdate-Tuple{Watcher}-watchers-watchers" href="#Data.DFUtils.lastdate-Tuple{Watcher}-watchers-watchers"><code>Data.DFUtils.lastdate</code></a> — <span class="docstring-category">Method</span></header><section><div><p>The date of the last update fetched by the watcher.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L109">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExchangeTypes.exchange-Tuple{Watcher}-watchers-watchers" href="#ExchangeTypes.exchange-Tuple{Watcher}-watchers-watchers"><code>ExchangeTypes.exchange</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get the exchange associated with the watcher.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExchangeTypes.exchangeid-Tuple{Watcher}-watchers-watchers" href="#ExchangeTypes.exchangeid-Tuple{Watcher}-watchers-watchers"><code>ExchangeTypes.exchangeid</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get the name of the exchange associated with the watcher.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L28">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Misc.load!-Tuple{Watcher, Vararg{Any}}-watchers-watchers" href="#Misc.load!-Tuple{Watcher, Vararg{Any}}-watchers-watchers"><code>Misc.load!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Executes the watcher <code>_load!</code> function (defaults to <a href="#Watchers.default_loader-Tuple{Watcher, Any}-watchers-watchers"><code>default_loader</code></a>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L86">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Misc.start!-Tuple{Watcher}-watchers-watchers" href="#Misc.start!-Tuple{Watcher}-watchers-watchers"><code>Misc.start!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Resets the watcher timer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L192">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Misc.stop!-Tuple{Watcher}-watchers-watchers" href="#Misc.stop!-Tuple{Watcher}-watchers-watchers"><code>Misc.stop!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Stops the watcher timer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L181">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.BufferEntry-Tuple{Any}-watchers-watchers" href="#Watchers.BufferEntry-Tuple{Any}-watchers-watchers"><code>Watchers.BufferEntry</code></a> — <span class="docstring-category">Method</span></header><section><div><p>The single entry in the buffer</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/module.jl#L121">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._check_flush_interval-Tuple{Any, Any, Any}-watchers-watchers" href="#Watchers._check_flush_interval-Tuple{Any, Any, Any}-watchers-watchers"><code>Watchers._check_flush_interval</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Checks the appropriateness of the flush interval</p><pre><code class="language-julia hljs">_check_flush_interval(flush_interval, fetch_interval, cap)
</code></pre><p>This function checks if the flush interval is greater than the time it would take to drop an element from the buffer (calculated as the product of the fetch interval and the buffer capacity). If the flush interval is too high, a warning is issued.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/module.jl#L106-L112">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._closeall-Tuple{}-watchers-watchers" href="#Watchers._closeall-Tuple{}-watchers-watchers"><code>Watchers._closeall</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Close all watchers.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/module.jl#L258">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._deleteat!-Tuple{Watcher, Val}-watchers-watchers" href="#Watchers._deleteat!-Tuple{Watcher, Val}-watchers-watchers"><code>Watchers._deleteat!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Deletes a range of data from the watcher buffer and storage backend.</p><pre><code class="language-julia hljs">_deleteat!(w::Watcher, ::Val; from, to, kwargs...)
</code></pre><p>The function takes a watcher as an argument, along with optional from and to arguments. It deletes the data from the storage backend and the watcher buffer within the specified range. If no range is specified, it deletes all data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L173-L179">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._fetch!-Tuple{Watcher, Val}-watchers-watchers" href="#Watchers._fetch!-Tuple{Watcher, Val}-watchers-watchers"><code>Watchers._fetch!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Appends new data to the watcher buffer, returns <code>true</code> when new data is added, <code>false</code> otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L145">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._flush!-Tuple{Watcher, Val}-watchers-watchers" href="#Watchers._flush!-Tuple{Watcher, Val}-watchers-watchers"><code>Watchers._flush!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>May run after a successful fetch operation, according to the <code>flush_interval</code>. It spawns a task.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L141">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._get-watchers-watchers" href="#Watchers._get-watchers-watchers"><code>Watchers._get</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns the processed <code>view</code> of the watcher data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L152">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._init!-Tuple{Watcher, Val}-watchers-watchers" href="#Watchers._init!-Tuple{Watcher, Val}-watchers-watchers"><code>Watchers._init!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Function to run on watcher initialization, it runs before <code>_load!</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L149">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._isserialized-Tuple{Watcher}-watchers-watchers" href="#Watchers._isserialized-Tuple{Watcher}-watchers-watchers"><code>Watchers._isserialized</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Checks if the watcher data is serialized.</p><pre><code class="language-julia hljs">_isserialized(w::Watcher) -&gt; Any
</code></pre><p>The function takes a watcher as an argument and returns a boolean indicating whether the watcher data is serialized or not.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L35-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._load!-Tuple{Watcher, Val}-watchers-watchers" href="#Watchers._load!-Tuple{Watcher, Val}-watchers-watchers"><code>Watchers._load!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Called once on watcher creation, used to pre-fill the watcher buffer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L143">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._pop!-Tuple{Watcher, Val}-watchers-watchers" href="#Watchers._pop!-Tuple{Watcher, Val}-watchers-watchers"><code>Watchers._pop!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Same as <code>_push!</code> but for removing elements.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L158">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._process!-Tuple{Watcher, Val}-watchers-watchers" href="#Watchers._process!-Tuple{Watcher, Val}-watchers-watchers"><code>Watchers._process!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Processes the watcher data, called everytime the watcher fetches new data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L147">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._push!-Tuple{Watcher, Val}-watchers-watchers" href="#Watchers._push!-Tuple{Watcher, Val}-watchers-watchers"><code>Watchers._push!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>If the watcher manager a group of things that it is fetching, <code>_push!</code> should add an element to it.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L156">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._schedule_fetch-Tuple{Any, Any, Any}-watchers-watchers" href="#Watchers._schedule_fetch-Tuple{Any, Any, Any}-watchers-watchers"><code>Watchers._schedule_fetch</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Schedules a fetch operation for a watcher</p><pre><code class="language-julia hljs">_schedule_fetch(w, timeout, threads; kwargs...) -&gt; Any
</code></pre><p>This function schedules a fetch operation for a given watcher. It checks if the watcher is locked and if not, it creates a task to fetch data. It also handles timeouts and increments the attempt counter in case of failure. The function ensures that the fetch operation is thread-safe and handles any exceptions that might occur during the fetch operation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/module.jl#L56-L62">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._start!-Tuple{Watcher, Val}-watchers-watchers" href="#Watchers._start!-Tuple{Watcher, Val}-watchers-watchers"><code>Watchers._start!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Executed before starting the timer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L164">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._stop!-Tuple{Watcher, Val}-watchers-watchers" href="#Watchers._stop!-Tuple{Watcher, Val}-watchers-watchers"><code>Watchers._stop!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Executed after the timer has been stopped.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L166">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._timer!-Tuple{Any}-watchers-watchers" href="#Watchers._timer!-Tuple{Any}-watchers-watchers"><code>Watchers._timer!</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>_timer</code> is an optional Timer object used to schedule fetch operations for a watcher.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/module.jl#L95">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._tryfetch-Tuple{Any}-watchers-watchers" href="#Watchers._tryfetch-Tuple{Any}-watchers-watchers"><code>Watchers._tryfetch</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Attempts to fetch data for a watcher</p><pre><code class="language-julia hljs">_tryfetch(w) -&gt; Bool
</code></pre><p>This function tries to fetch data for a given watcher. It locks the watcher, updates the last fetch time, and attempts to fetch data. If the fetch is successful, it returns <code>true</code>, otherwise it logs the error and returns <code>false</code>. It also handles stopping the watcher if needed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/module.jl#L14-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._watcher-watchers-watchers" href="#Watchers._watcher-watchers-watchers"><code>Watchers._watcher</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Instantiate a watcher.</p><pre><code class="language-julia hljs">_watcher(T::Type, name::String; ...) -&gt; Watcher
_watcher(
    T::Type,
    name::String,
    val::Val;
    start,
    load,
    process,
    flush,
    threads,
    fetch_timeout,
    fetch_interval,
    flush_interval,
    buffer_capacity,
    view_capacity,
    attrs
) -&gt; Watcher
</code></pre><p>This function creates a new watcher with the specified parameters. It checks the flush interval, initializes the watcher, loads data if necessary, and sets a timer for the watcher if the <code>start</code> parameter is <code>true</code>. It also ensures that the <code>_fetch!</code> function is applicable for the watcher.</p><div class="admonition is-warning"><header class="admonition-header">asyncio vs threads</header><div class="admonition-body"><p>BuyOrSell <code>_fetch!</code> and <code>_flush!</code> callbacks assume non-blocking asyncio like behaviour. If instead your functions require high computation, pass <code>threads=true</code>, you will have to ensure thread safety.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/module.jl#L175-L187">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.allerror-Tuple{Type, Watcher}-watchers-watchers" href="#Watchers.allerror-Tuple{Type, Watcher}-watchers-watchers"><code>Watchers.allerror</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get all logged watcher errors of type <code>t</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/errors.jl#L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.default_flusher-Tuple{Watcher, Any}-watchers-watchers" href="#Watchers.default_flusher-Tuple{Watcher, Any}-watchers-watchers"><code>Watchers.default_flusher</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Saves watcher data to the default <code>DATA_PATH</code> using serialization.</p><pre><code class="language-julia hljs">default_flusher(
    w::Watcher,
    key;
    reset,
    buf
) -&gt; Union{Nothing, Dict{Symbol, Any}}
</code></pre><p>The function takes a watcher and a key as arguments, along with optional parameters for reset and buffer. If the buffer is empty, the function returns nothing. If the most recent time in the buffer is greater than the last flushed time, the function saves the recent slice of data to the <code>DATA_PATH</code> and updates the last flushed time.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L43-L49">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.default_get-Tuple{Watcher, Any}-watchers-watchers" href="#Watchers.default_get-Tuple{Watcher, Any}-watchers-watchers"><code>Watchers.default_get</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns the processed <code>view</code> of the watcher data.</p><pre><code class="language-julia hljs">default_get(w::Watcher, def) -&gt; Any
</code></pre><p>The function takes a watcher as an argument and returns the <code>view</code> attribute of the watcher.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L132-L138">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.default_init-watchers-watchers" href="#Watchers.default_init-watchers-watchers"><code>Watchers.default_init</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Initializes a watcher with default attributes.</p><pre><code class="language-julia hljs">default_init(w::Watcher) -&gt; Bool
default_init(w::Watcher, dataview) -&gt; Bool
default_init(w::Watcher, dataview, serialized) -&gt; Any
</code></pre><p>The function takes a watcher and optional dataview and serialized arguments. It sets the view, last_processed, checks, and serialized attributes of the watcher. If a logfile attribute is present, it writes an empty string to the logfile.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L119-L125">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.default_loader-Tuple{Watcher, Any}-watchers-watchers" href="#Watchers.default_loader-Tuple{Watcher, Any}-watchers-watchers"><code>Watchers.default_loader</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Loads watcher data from the default <code>DATA_PATH</code>.</p><pre><code class="language-julia hljs">default_loader(
    w::Watcher,
    key
) -&gt; Union{Nothing, Dict{Symbol, Any}}
</code></pre><p>The function takes a watcher and a key as arguments. If the watcher data is not loaded, the function returns nothing. Otherwise, it loads the data from the <code>DATA_PATH</code>, pushes it to the watcher buffer using <code>pushstart!</code>, processes the watcher data if necessary, and sets the <code>loaded</code> attribute of the watcher to <code>true</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L67-L73">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.default_process-Tuple{Watcher, Function}-watchers-watchers" href="#Watchers.default_process-Tuple{Watcher, Function}-watchers-watchers"><code>Watchers.default_process</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Processes the values of a watcher buffer into a dataframe.</p><pre><code class="language-julia hljs">default_process(
    w::Watcher,
    appendby::Function
) -&gt; Union{Nothing, Dict{Symbol, Any}}
</code></pre><p>The function takes a watcher and an appendby function as arguments. If the buffer is empty, the function returns nothing. Otherwise, it checks if the last processed attribute of the watcher is <code>nothing</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L82-L88">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.default_view-watchers-watchers" href="#Watchers.default_view-watchers-watchers"><code>Watchers.default_view</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Returns the default view of the watcher data.</p><pre><code class="language-julia hljs">default_view(w::Watcher) -&gt; Any
default_view(w::Watcher, def::Union{Function, Type}) -&gt; Any
</code></pre><p>The function takes a watcher and an optional definition as arguments. If the default view attribute of the watcher is <code>nothing</code>, it returns the result of the definition function. Otherwise, it deletes the default view attribute from the watcher and returns it if it is a function or the result of the function if it is not.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L100-L106">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.errors-Tuple{Watcher}-watchers-watchers" href="#Watchers.errors-Tuple{Watcher}-watchers-watchers"><code>Watchers.errors</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get the list of errors that occurred during the execution of a watcher.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/errors.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.fetch!-Tuple{Watcher}-watchers-watchers" href="#Watchers.fetch!-Tuple{Watcher}-watchers-watchers"><code>Watchers.fetch!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Fetches a new value from the watcher ignoring the timer.</p><pre><code class="language-julia hljs">fetch!(w::Watcher; reset, kwargs...) -&gt; Any
</code></pre><p>The function takes a watcher as an argument, along with optional reset and kwargs arguments. It schedules a fetch operation, and if reset is true, it resets the timer. The function returns the last value in the watcher buffer or nothing if the buffer is empty.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L60-L66">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.flush!-Tuple{Watcher}-watchers-watchers" href="#Watchers.flush!-Tuple{Watcher}-watchers-watchers"><code>Watchers.flush!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Executes the flush function of the watcher (defaults to <a href="#Watchers.default_flusher-Tuple{Watcher, Any}-watchers-watchers"><code>default_flusher</code></a>).</p><pre><code class="language-julia hljs">flush!(w::Watcher; force, sync)
</code></pre><p>The function takes a watcher as an argument, along with optional force and sync arguments. If force is true or the time since the last flush is greater than the flush interval, it schedules a flush operation. If sync is true, it waits for the flush operation to complete.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L39-L45">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.init!-Tuple{Watcher, Vararg{Any}}-watchers-watchers" href="#Watchers.init!-Tuple{Watcher, Vararg{Any}}-watchers-watchers"><code>Watchers.init!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Executes the watcher <code>_init!</code> function (defaults to <a href="#Watchers.default_init-watchers-watchers"><code>default_init</code></a>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L88">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.isstale-Tuple{Watcher}-watchers-watchers" href="#Watchers.isstale-Tuple{Watcher}-watchers-watchers"><code>Watchers.isstale</code></a> — <span class="docstring-category">Method</span></header><section><div><p>True if last available data entry is older than <code>now() + fetch_interval + fetch_timeout</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L99">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.isstarted-Tuple{Watcher}-watchers-watchers" href="#Watchers.isstarted-Tuple{Watcher}-watchers-watchers"><code>Watchers.isstarted</code></a> — <span class="docstring-category">Method</span></header><section><div><p>True if timer is running.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L207">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.isstopped-Tuple{Watcher}-watchers-watchers" href="#Watchers.isstopped-Tuple{Watcher}-watchers-watchers"><code>Watchers.isstopped</code></a> — <span class="docstring-category">Method</span></header><section><div><p>True if timer is not running.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L202">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.lasterror-Tuple{Type, Watcher}-watchers-watchers" href="#Watchers.lasterror-Tuple{Type, Watcher}-watchers-watchers"><code>Watchers.lasterror</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get the last logged watcher error of type <code>t</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/errors.jl#L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.lasterror-Tuple{Watcher}-watchers-watchers" href="#Watchers.lasterror-Tuple{Watcher}-watchers-watchers"><code>Watchers.lasterror</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get the last logged watcher error.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/errors.jl#L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.logerror-watchers-watchers" href="#Watchers.logerror-watchers-watchers"><code>Watchers.logerror</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Stores an error to the watcher log journal.</p><pre><code class="language-julia hljs">logerror(w::Watcher, e) -&gt; Any
logerror(w::Watcher, e, bt) -&gt; Any
</code></pre><p>This function logs an error that occurred during the execution of a watcher. The error is stored in the watcher&#39;s log journal. If the watcher has a logfile attribute, the error is written to the logfile. Otherwise, the error is pushed to the watcher&#39;s error buffer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/errors.jl#L3-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.process!-Tuple{Watcher, Vararg{Any}}-watchers-watchers" href="#Watchers.process!-Tuple{Watcher, Vararg{Any}}-watchers-watchers"><code>Watchers.process!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Executes the watcher <code>_process!</code> function (defaults to <a href="#Watchers.default_process-Tuple{Watcher, Function}-watchers-watchers"><code>default_process</code></a>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/functions.jl#L77">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.pushnew!-Union{Tuple{T}, Tuple{Watcher{T}, Any}, Tuple{Watcher{T}, Any, Any}} where T-watchers-watchers" href="#Watchers.pushnew!-Union{Tuple{T}, Tuple{Watcher{T}, Any}, Tuple{Watcher{T}, Any, Any}} where T-watchers-watchers"><code>Watchers.pushnew!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Pushes a new value to the watcher buffer if it is different from the last one.</p><pre><code class="language-julia hljs">pushnew!(
    w::Watcher{T},
    value
) -&gt; Union{Nothing, CircularBuffer{@NamedTuple{time::Dates.DateTime, value::T}} where T}
pushnew!(
    w::Watcher{T},
    value,
    time
) -&gt; Union{Nothing, CircularBuffer{@NamedTuple{time::Dates.DateTime, value::T}} where T}
</code></pre><p>The function takes a watcher, a value, and an optional time as arguments. If the value is not <code>nothing</code> and it is different from the last value in the watcher buffer, the function pushes a new tuple containing the time and the value to the watcher buffer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L15-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.pushstart!-Tuple{Watcher, Any}-watchers-watchers" href="#Watchers.pushstart!-Tuple{Watcher, Any}-watchers-watchers"><code>Watchers.pushstart!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Pushes a vector of values to the watcher buffer.</p><pre><code class="language-julia hljs">pushstart!(w::Watcher, vec) -&gt; Any
</code></pre><p>The function takes a watcher and a vector as arguments. If the vector is empty, the function returns nothing. Otherwise, it calculates the minimum of the buffer capacity and the size of the vector, and pushes the values from the vector to the watcher buffer starting from the calculated offset.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.showtrace-watchers-watchers" href="#Watchers.showtrace-watchers-watchers"><code>Watchers.showtrace</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Display the backtrace of the last logged watcher error.</p><pre><code class="language-julia hljs">showtrace(w::Watcher) -&gt; Any
showtrace(w::Watcher, rev_idx) -&gt; Any
</code></pre><p>This function retrieves and displays the backtrace of the last logged error for a given watcher. If no errors have been logged for the watcher, it does nothing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/errors.jl#L28-L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.watcher-Tuple{Type, String, Vararg{Any}}-watchers-watchers" href="#Watchers.watcher-Tuple{Type, String, Vararg{Any}}-watchers-watchers"><code>Watchers.watcher</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Instantiate a watcher and add it to the global watchers list.</p><pre><code class="language-julia hljs">watcher(
    T::Type,
    name::String,
    args...;
    kwargs...
) -&gt; Watcher
</code></pre><p>This function creates a new watcher with the specified parameters and adds it to the global <code>WATCHERS</code> list. If a watcher with the same name already exists in the list, it replaces the old watcher with the new one.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/module.jl#L243-L249">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.@logerror-Tuple{Any, Any}-watchers-watchers" href="#Watchers.@logerror-Tuple{Any, Any}-watchers-watchers"><code>Watchers.@logerror</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Logs an error that occurred during the execution of an expression.</p><p>This macro tries to execute the provided expression and logs any error that occurs during its execution. The error is logged to the watcher&#39;s log journal. If the watcher has a logfile attribute, the error is written to the logfile. Otherwise, the error is pushed to the watcher&#39;s error buffer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/errors.jl#L42-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.@watcher_interface!-Tuple{}-watchers-watchers" href="#Watchers.@watcher_interface!-Tuple{}-watchers-watchers"><code>Watchers.@watcher_interface!</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Imports the watcher interface functions.</p><p>This macro imports the watcher interface functions into the current scope. These functions are used to define the behavior of a watcher.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/defaults.jl#L201-L205">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls.CcxtTicker-watchers-watchers" href="#Watchers.WatchersImpls.CcxtTicker-watchers-watchers"><code>Watchers.WatchersImpls.CcxtTicker</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The ccxt ticker object as a NamedTuple.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_tickers.jl#L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls.TempCandle-watchers-watchers" href="#Watchers.WatchersImpls.TempCandle-watchers-watchers"><code>Watchers.WatchersImpls.TempCandle</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A mutable struct representing a temporary candlestick chart.</p><ul><li><p><code>timestamp</code></p></li><li><p><code>open</code></p></li><li><p><code>high</code></p></li><li><p><code>low</code></p></li><li><p><code>close</code></p></li><li><p><code>volume</code></p></li></ul><p>The <code>TempCandle</code> struct holds the timestamp, open, high, low, close, and volume values for a temporary candlestick chart.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_ohlcv_tickers.jl#L99-L106">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._append_ohlcv!-NTuple{5, Any}-watchers-watchers" href="#Watchers.WatchersImpls._append_ohlcv!-NTuple{5, Any}-watchers-watchers"><code>Watchers.WatchersImpls._append_ohlcv!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Appends data to a dataframe if it is contiguous</p><pre><code class="language-julia hljs">_append_ohlcv!(w, ohlcv_dst, ohlcv_src, left, next) -&gt; Any
</code></pre><p>This function appends data from a source dataframe to a destination dataframe if the data is contiguous. It checks if the first date in the source dataframe is the next expected date in the destination dataframe. If it is, the function appends the data from the source dataframe to the destination dataframe and checks the continuity of the data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/utils.jl#L446-L455">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._checkforstale-Tuple{Any}-watchers-watchers" href="#Watchers.WatchersImpls._checkforstale-Tuple{Any}-watchers-watchers"><code>Watchers.WatchersImpls._checkforstale</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Checks for stale data in the watcher.</p><pre><code class="language-julia hljs">_checkforstale(w)
</code></pre><p>This function checks for stale data in the watcher by iterating over the symbol states and updating the OHLCV if necessary.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_ohlcv_tickers.jl#L366-L372">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._chill!-Tuple{Any}-watchers-watchers" href="#Watchers.WatchersImpls._chill!-Tuple{Any}-watchers-watchers"><code>Watchers.WatchersImpls._chill!</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>_chill!</code> sets the warmup target attribute of the window to the current time applied with the time frame rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/utils.jl#L157">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._delete_ohlcv!-watchers-watchers" href="#Watchers.WatchersImpls._delete_ohlcv!-watchers-watchers"><code>Watchers.WatchersImpls._delete_ohlcv!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Deletes OHLCV data of a given symbol from the window</p><pre><code class="language-julia hljs">_delete_ohlcv!(w) -&gt; Any
_delete_ohlcv!(w, sym) -&gt; Any
</code></pre><p>The <code>_delete_ohlcv!</code> function removes OHLCV data of a specified symbol from the window. If no symbol is provided, it defaults to the symbol of the window. It fetches the data associated with the symbol and the current time frame rate, and deletes it.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/utils.jl#L218-L227">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._empty!!-Tuple{DataFrames.DataFrame}-watchers-watchers" href="#Watchers.WatchersImpls._empty!!-Tuple{DataFrames.DataFrame}-watchers-watchers"><code>Watchers.WatchersImpls._empty!!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Empties a dataframe</p><pre><code class="language-julia hljs">_empty!!(
    df::DataFrames.DataFrame
) -&gt; Union{DataFrames.DataFrame, Vector{Bool}}
</code></pre><p>The <code>_empty!!</code> function tries to empty a dataframe. If calling the <code>empty!</code> function on the dataframe throws an error, it uses the <code>copysubs!</code> function with the <code>empty</code> argument to empty the dataframe.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/utils.jl#L305-L313">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._empty_candles-Tuple{Any, Watchers.WatchersImpls.Warmed}-watchers-watchers" href="#Watchers.WatchersImpls._empty_candles-Tuple{Any, Watchers.WatchersImpls.Warmed}-watchers-watchers"><code>Watchers.WatchersImpls._empty_candles</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns nothing if the watcher status is pending</p><pre><code class="language-julia hljs">_empty_candles(w, _::Watchers.WatchersImpls.Warmed)
</code></pre><p>This function checks the status of the watcher. If the status is pending, it returns nothing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_ohlcv_trades.jl#L218-L225">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._ensure_contig!-Tuple{Any, Any, Watchers.WatchersImpls.TempCandle, Any, Any}-watchers-watchers" href="#Watchers.WatchersImpls._ensure_contig!-Tuple{Any, Any, Watchers.WatchersImpls.TempCandle, Any, Any}-watchers-watchers"><code>Watchers.WatchersImpls._ensure_contig!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Appends temp_candle ensuring contiguity.</p><pre><code class="language-julia hljs">_ensure_contig!(
    w,
    df,
    temp_candle::Watchers.WatchersImpls.TempCandle,
    tf,
    sym
) -&gt; Any
</code></pre><p>This function appends the temporary candle to the DataFrame ensuring contiguity. If the temporary candle is not right adjacent to the last date in the DataFrame, it resolves the gap and then appends the candle.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_ohlcv_tickers.jl#L192-L200">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._fastforward-watchers-watchers" href="#Watchers.WatchersImpls._fastforward-watchers-watchers"><code>Watchers.WatchersImpls._fastforward</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Fast forwards the window to the current timestamp</p><pre><code class="language-julia hljs">_fastforward(w) -&gt; Any
_fastforward(w, sym) -&gt; Any
</code></pre><p>The <code>_fastforward</code> function ensures the window is up-to-date by fast-forwarding to the current timestamp. It checks whether the stored data is empty or corrupted and retrieves available data within the window. If no data is available, it calculates the starting point for fetching new data. Otherwise, it appends the available data to the dataframe, checks the continuity of the data, and updates the starting point. If the starting point is not equal to the current timestamp, it fetches new data up to the current timestamp and checks the data continuity again.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/utils.jl#L232-L243">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._fetch_error-watchers-watchers" href="#Watchers.WatchersImpls._fetch_error-watchers-watchers"><code>Watchers.WatchersImpls._fetch_error</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Generates an error message when data fetching fails</p><pre><code class="language-julia hljs">_fetch_error(w, from, to) -&gt; Any
_fetch_error(w, from, to, sym, args...) -&gt; Any
</code></pre><p>The <code>_fetch_error</code> function is used when data fetching for a given symbol fails. It generates an error message detailing the symbol, exchange name, and the time frame for which data fetching failed, unless the <code>quiet</code> attribute of the window is set to <code>true</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/utils.jl#L269-L277">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._fetchto!-watchers-watchers" href="#Watchers.WatchersImpls._fetchto!-watchers-watchers"><code>Watchers.WatchersImpls._fetchto!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Fetches and appends or prepends data to a dataframe</p><pre><code class="language-julia hljs">_fetchto!(w, df, sym, tf; ...)
_fetchto!(w, df, sym, tf, op; to, from)
</code></pre><p>This function fetches data for a given symbol and time frame, and appends or prepends it to a provided dataframe. The operation (append or prepend) is determined by the <code>op</code> parameter. If the dataframe is not empty, it checks for data continuity. If the data is not contiguous and the <code>resync_noncontig</code> attribute of the watcher is set to <code>true</code>, it empties the dataframe and resets the rows count. The function calculates the starting date for fetching new data based on the dataframe, target date, time frame, and operation. It then fetches the data, cleans it, and checks if it can be appended or prepended to the dataframe. If the operation is possible, it performs it and returns <code>true</code>. If the fetched data is empty, it returns <code>false</code>. If the difference between the target date and the starting date is less than or equal to the period of the time frame, it also returns <code>true</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/utils.jl#L320-L335">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._flushfrom!-Tuple{Any}-watchers-watchers" href="#Watchers.WatchersImpls._flushfrom!-Tuple{Any}-watchers-watchers"><code>Watchers.WatchersImpls._flushfrom!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Ensures the dataframe is up-to-date by flushing data</p><pre><code class="language-julia hljs">_flushfrom!(w) -&gt; Union{Nothing, Dict{Symbol, Any}}
</code></pre><p>This function ensures the dataframe is up-to-date by flushing data. If the dataframe is not empty, it checks the last flushed date and the last date in the dataframe. If these dates are not the same, it saves the data in the dataframe from the last flushed date to the last date in the dataframe and updates the last flushed date.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/utils.jl#L471-L480">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._from-Tuple{Any, Any, Any, Any, Val{:append}}-watchers-watchers" href="#Watchers.WatchersImpls._from-Tuple{Any, Any, Any, Any, Val{:append}}-watchers-watchers"><code>Watchers.WatchersImpls._from</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Calculates the starting date for appending data to a dataframe</p><pre><code class="language-julia hljs">_from(df, to, tf, cap, _::Val{:append}) -&gt; Any
</code></pre><p>The <code>_from</code> function determines the starting date for appending data to a dataframe. It takes into account a target date, time frame rate, capacity, and the <code>:append</code> flag. The function ensures that the target date is not earlier than the last date in the dataframe. It then calculates the earliest date that can be included in the dataframe based on the capacity and the time frame rate. If the dataframe is empty, this earliest date is returned. Otherwise, the minimum between this date and the last date in the dataframe is returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/utils.jl#L287-L299">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._fromto-NTuple{4, Any}-watchers-watchers" href="#Watchers.WatchersImpls._fromto-NTuple{4, Any}-watchers-watchers"><code>Watchers.WatchersImpls._fromto</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>_fromto</code> calculates a starting timestamp given a target timestamp, period, capacity and data kept.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/utils.jl#L285">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._get_available-Tuple{Any, Any, Any}-watchers-watchers" href="#Watchers.WatchersImpls._get_available-Tuple{Any, Any, Any}-watchers-watchers"><code>Watchers.WatchersImpls._get_available</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Returns the available data within the given window</p><pre><code class="language-julia hljs">_get_available(
    w,
    z,
    to
) -&gt; Union{Nothing, DataFrames.DataFrame}
</code></pre><p>The <code>_get_available</code> function checks if data is available within a given window. It calculates the maximum lookback period and checks if the data in the window is empty. If it is, the function returns nothing. If data is available, it creates a view of the data and checks if the data is too old. If it is, it returns nothing and schedules a background task to update the data. Otherwise, it converts the available data to OHLCV format and returns it.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/utils.jl#L192-L204">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._load_ob_data-Tuple{Any}-watchers-watchers" href="#Watchers.WatchersImpls._load_ob_data-Tuple{Any}-watchers-watchers"><code>Watchers.WatchersImpls._load_ob_data</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Loads order book data.</p><pre><code class="language-julia hljs">_load_ob_data(w) -&gt; Any
</code></pre><p>This function loads the order book data from the specified location.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_orderbook.jl#L186-L193">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._loadall!-Tuple{Watcher, Val{:ccxt_ohlcv_candles}}-watchers-watchers" href="#Watchers.WatchersImpls._loadall!-Tuple{Watcher, Val{:ccxt_ohlcv_candles}}-watchers-watchers"><code>Watchers.WatchersImpls._loadall!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Loads the OHLCV data for all symbols.</p><pre><code class="language-julia hljs">_loadall!(w::Watcher, _::Val{:ccxt_ohlcv_candles})
</code></pre><p>This function loads the OHLCV data for all symbols. If the buffer or view of the watcher is empty, the function returns nothing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_ohlcv_candles.jl#L99-L107">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._loadall!-Tuple{Watcher, Val{:ccxt_ohlcv_ticker}}-watchers-watchers" href="#Watchers.WatchersImpls._loadall!-Tuple{Watcher, Val{:ccxt_ohlcv_ticker}}-watchers-watchers"><code>Watchers.WatchersImpls._loadall!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Loads the OHLCV data for all symbols.</p><pre><code class="language-julia hljs">_loadall!(w::Watcher, _::Val{:ccxt_ohlcv_ticker})
</code></pre><p>This function loads the OHLCV data for all symbols. If the buffer or view of the watcher is empty, the function returns nothing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_ohlcv_tickers.jl#L469-L477">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._meanvolume!-Tuple{Any, Any}-watchers-watchers" href="#Watchers.WatchersImpls._meanvolume!-Tuple{Any, Any}-watchers-watchers"><code>Watchers.WatchersImpls._meanvolume!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Adjusts the volume of the temporary candlestick chart.</p><pre><code class="language-julia hljs">_meanvolume!(w, state) -&gt; Any
</code></pre><p>This function adjusts the volume of the temporary candlestick chart by dividing it by the number of ticks and the volume divisor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_ohlcv_tickers.jl#L181-L188">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._ob_func-Tuple{Any, Any}-watchers-watchers" href="#Watchers.WatchersImpls._ob_func-Tuple{Any, Any}-watchers-watchers"><code>Watchers.WatchersImpls._ob_func</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Assigns the appropriate order book function based on the level.</p><pre><code class="language-julia hljs">_ob_func(attrs, level)
</code></pre><p>The function assigns the appropriate order book function to the <code>attrs</code> dictionary based on the <code>level</code> provided. It tries to assign the function in the order of preference and breaks the loop as soon as a function is successfully assigned. If no function can be assigned, it throws an assertion error.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_orderbook.jl#L8-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._ob_to_df-Tuple{Any}-watchers-watchers" href="#Watchers.WatchersImpls._ob_to_df-Tuple{Any}-watchers-watchers"><code>Watchers.WatchersImpls._ob_to_df</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Converts order book data to a DataFrame.</p><pre><code class="language-julia hljs">_ob_to_df(ob) -&gt; DataFrames.DataFrame
</code></pre><p>This function takes an order book and converts it into a DataFrame. It creates separate columns for timestamp, bid price, bid amount, ask price, and ask amount. The function also ensures that the DataFrame is created even if the bids and asks are uneven by using the zip function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_orderbook.jl#L92-L101">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._parsedatez-Tuple{AbstractString}-watchers-watchers" href="#Watchers.WatchersImpls._parsedatez-Tuple{AbstractString}-watchers-watchers"><code>Watchers.WatchersImpls._parsedatez</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Removes trailing &#39;Z&#39; from a string and parses it into a DateTime object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/utils.jl#L19-L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._resolve-watchers-watchers" href="#Watchers.WatchersImpls._resolve-watchers-watchers"><code>Watchers.WatchersImpls._resolve</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Ensures the dataframe is up-to-date by fetching and appending data</p><pre><code class="language-julia hljs">_resolve(w, ohlcv_dst, date_candidate::Dates.DateTime)
_resolve(w, ohlcv_dst, date_candidate::Dates.DateTime, sym)
</code></pre><p>This function ensures the dataframe is up-to-date by fetching and appending data for a given symbol and time frame. It checks whether the stored data is empty or corrupted and retrieves available data within the window. If no data is available, it calculates the starting point for fetching new data. Otherwise, it appends the available data to the dataframe, checks the continuity of the data, and updates the starting point. If the starting point is not equal to the current timestamp, it fetches new data up to the current timestamp and checks the data continuity again.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/utils.jl#L423-L434">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._sticky_fetchto!-Tuple-watchers-watchers" href="#Watchers.WatchersImpls._sticky_fetchto!-Tuple-watchers-watchers"><code>Watchers.WatchersImpls._sticky_fetchto!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Continuously attempts to fetch and append or prepend data to a dataframe until successful</p><pre><code class="language-julia hljs">_sticky_fetchto!(args...; kwargs...)
</code></pre><p>This function continuously calls the <code>_fetchto!</code> function until it successfully fetches and appends or prepends data to a dataframe. If the <code>_fetchto!</code> function fails, the function waits for a certain period before trying again. The waiting period increases with each failed attempt.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/utils.jl#L399-L408">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._update_sym_ohlcv-watchers-watchers" href="#Watchers.WatchersImpls._update_sym_ohlcv-watchers-watchers"><code>Watchers.WatchersImpls._update_sym_ohlcv</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Updates the OHLCV for a specific symbol.</p><pre><code class="language-julia hljs">_update_sym_ohlcv(
    w,
    ticker,
    latest_timestamp
) -&gt; Union{Nothing, Int64}
_update_sym_ohlcv(
    w,
    ticker,
    latest_timestamp,
    sym
) -&gt; Union{Nothing, Int64}
</code></pre><p>This function updates the OHLCV for a specific symbol based on the latest timestamp and price from the ticker. It resets the temporary candlestick chart if the timestamp is newer than the current one and ensures contiguity when appending the candle to the DataFrame.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_ohlcv_tickers.jl#L252-L260">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls._warmup!-Tuple{Any, Watchers.WatchersImpls.Pending}-watchers-watchers" href="#Watchers.WatchersImpls._warmup!-Tuple{Any, Watchers.WatchersImpls.Pending}-watchers-watchers"><code>Watchers.WatchersImpls._warmup!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Checks if we can start processing data, after we are past the initial incomplete timeframe.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/utils.jl#L160">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls.ccxt_ohlcv_tickers_watcher-Tuple{Exchange}-watchers-watchers" href="#Watchers.WatchersImpls.ccxt_ohlcv_tickers_watcher-Tuple{Exchange}-watchers-watchers"><code>Watchers.WatchersImpls.ccxt_ohlcv_tickers_watcher</code></a> — <span class="docstring-category">Method</span></header><section><div><p>OHLCV watcher based on exchange tickers data. This differs from the ohlcv watcher based on trades.</p><ul><li>The OHLCV ticker watcher can monitor a group of symbols, while the trades watcher only one symbol per instance.</li><li>The OHLCV ticker watcher candles do not match 1:1 the exchange candles, since they rely on polled data.</li><li>The OHLCV ticker watcher is intended to be <em>lazy</em>. It won&#39;t pre-load/fetch data for all symbols, it will only</li></ul><p>process new candles from the time it is started w.r.t. the timeframe provided.</p><ul><li>The source price chooses which price to use to build the candles any of <code>:last</code>, <code>:vwap</code>, <code>:bid</code>, <code>:ask</code> (default <code>:last</code>).</li></ul><p>To back-fill the <em>view</em> (DataFrame) of a particular symbol, call <code>load!(watcher, symbol)</code>, which will fill the view up to the watcher <code>view_capacity</code>.</p><ul><li><code>logfile</code>: optional path to save errors.</li><li><code>diff_volume</code>: calculate volume by subtracting the rolling 1d snapshots (<code>true</code>)</li><li><code>n_jobs</code>: concurrent startup fetching jobs for ohlcv</li><li><code>callback</code>: function <code>fn(df, sym)</code> called every time a dataframe is updated</li></ul><p>!!! &quot;warning&quot; startup times     The higher the number of symbols, the longer it will take to load initial OHLCV candles. When the semaphore (<code>w[:sem]</code>) is not full anymore, all the symbols should then start to trail the latest (full) candle as soon as possible.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_ohlcv_tickers.jl#L27-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls.ccxt_ohlcv_watcher-Tuple{Exchange, Any}-watchers-watchers" href="#Watchers.WatchersImpls.ccxt_ohlcv_watcher-Tuple{Exchange, Any}-watchers-watchers"><code>Watchers.WatchersImpls.ccxt_ohlcv_watcher</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Create a <code>Watcher</code> instance that tracks ohlcv for an exchange (ccxt).</p><ul><li>On startup candles are initially loaded from storage (if any).</li><li>Then they are fastfowarded to the last available candle.</li><li>After which, fetching happen on <em>trades</em></li><li>Once time crosses the timeframe, new candles are created from trades.</li></ul><p>If The watcher is restarted, a new call for OHLCV data is made to re-fastfoward. If no trades happen during a timeframe, an empty candle for that timeframe is added. The <code>view</code> of the watcher SHOULD NOT have duplicate candles (same timestamp), and all the candles SHOULD be contiguous (the time difference between adjacent candles is always equal to the timeframe).</p><p>If these constraints are not met that&#39;s a bug.</p><div class="admonition is-warning"><header class="admonition-header">Watcher data.</header><div class="admonition-body"></div></div><p>The data saved by the watcher on disk SHOULD NOT be relied upon to be contiguous, since the watcher doesn&#39;t ensure it, it only uses it to reduce the number of candles to fetch from the exchange at startup.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_ohlcv_trades.jl#L23-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls.ccxt_orderbook_watcher-Tuple{Exchange, Any}-watchers-watchers" href="#Watchers.WatchersImpls.ccxt_orderbook_watcher-Tuple{Exchange, Any}-watchers-watchers"><code>Watchers.WatchersImpls.ccxt_orderbook_watcher</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Creates a watcher for the order book of a given exchange and symbol.</p><pre><code class="language-julia hljs">ccxt_orderbook_watcher(
    exc::Exchange,
    sym;
    level,
    interval
) -&gt; Any
</code></pre><p>This function creates a watcher for the order book of a given exchange and symbol. It sets up the watcher with the specified <code>level</code>, <code>interval</code>, and other parameters. The watcher is then started and returned for use. The function checks for timeout, sets up the attributes, and assigns the appropriate order book function based on the level.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_orderbook.jl#L35-L45">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls.ccxt_tickers_watcher-Tuple{Exchange}-watchers-watchers" href="#Watchers.WatchersImpls.ccxt_tickers_watcher-Tuple{Exchange}-watchers-watchers"><code>Watchers.WatchersImpls.ccxt_tickers_watcher</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Create a <code>Watcher</code> instance that tracks all markets for an exchange (ccxt)</p><pre><code class="language-julia hljs">ccxt_tickers_watcher(
    exc::Exchange;
    val,
    wid,
    syms,
    interval,
    start,
    load,
    process,
    buffer_capacity,
    view_capacity,
    flush,
    iswatch
) -&gt; Watcher{Dict{String, @NamedTuple{symbol::String, timestamp::Union{Nothing, Dates.DateTime}, open::Float64, high::Float64, low::Float64, close::Float64, previousClose::Union{Nothing, Float64}, bid::Float64, ask::Float64, bidVolume::Union{Nothing, Float64}, askVolume::Union{Nothing, Float64}, last::Float64, vwap::Float64, change::Float64, percentage::Float64, average::Float64, baseVolume::Float64, quoteVolume::Float64}}}
</code></pre><p>This function creates a <code>Watcher</code> instance that tracks all markets for an exchange (ccxt). It sets the symbol, exchange, and time frame for the watcher, and prepares the trades buffer. It also sets the watcher&#39;s status to pending and initializes the last fetched and last flushed timestamps.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_tickers.jl#L34-L43">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls.cg_derivatives_watcher-Tuple{Any}-watchers-watchers" href="#Watchers.WatchersImpls.cg_derivatives_watcher-Tuple{Any}-watchers-watchers"><code>Watchers.WatchersImpls.cg_derivatives_watcher</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Create a <code>Watcher</code> instance that tracks all the derivatives from an exchange.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/cg_derivatives.jl#L18-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls.cg_ticker_watcher-Tuple{AbstractVector}-watchers-watchers" href="#Watchers.WatchersImpls.cg_ticker_watcher-Tuple{AbstractVector}-watchers-watchers"><code>Watchers.WatchersImpls.cg_ticker_watcher</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Create a <code>Watcher</code> instance that tracks the price of some currencies on an exchange (coingecko).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/cg_ticker.jl#L14-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls.cp_markets_watcher-watchers-watchers" href="#Watchers.WatchersImpls.cp_markets_watcher-watchers-watchers"><code>Watchers.WatchersImpls.cp_markets_watcher</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Create a <code>Watcher</code> instance that tracks all markets for an exchange (coinpaprika).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/cp_markets.jl#L11-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls.cp_twitter_watcher-watchers-watchers" href="#Watchers.WatchersImpls.cp_twitter_watcher-watchers-watchers"><code>Watchers.WatchersImpls.cp_twitter_watcher</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Create a <code>Watcher</code> instance that tracks all markets for an exchange (coinpaprika).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/cp_twitter.jl#L9-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls.resetcandle!-Tuple{Any, Watchers.WatchersImpls.TempCandle, Any, Any}-watchers-watchers" href="#Watchers.WatchersImpls.resetcandle!-Tuple{Any, Watchers.WatchersImpls.TempCandle, Any, Any}-watchers-watchers"><code>Watchers.WatchersImpls.resetcandle!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Resets the temporary candlestick chart with a new timestamp and price.</p><pre><code class="language-julia hljs">resetcandle!(
    w,
    cdl::Watchers.WatchersImpls.TempCandle,
    ts,
    price
) -&gt; Float64
</code></pre><p>This function resets the temporary candlestick chart with a new timestamp and price. It also resets the high and low prices to their extreme values and the volume to zero if the price source is not <code>vwap</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_ohlcv_tickers.jl#L145-L153">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._fetch!-Tuple{Watcher, Val{:ccxt_ohlcv}}-watchers-watchers" href="#Watchers._fetch!-Tuple{Watcher, Val{:ccxt_ohlcv}}-watchers-watchers"><code>Watchers._fetch!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Fetches trades and updates the watcher&#39;s trades buffer</p><pre><code class="language-julia hljs">_fetch!(w::Watcher, _::Val{:ccxt_ohlcv}) -&gt; Any
</code></pre><p>This function fetches trades for the watcher&#39;s symbol and time frame, and updates the watcher&#39;s trades buffer. If new trades are fetched, they are appended to the trades buffer and the last fetched timestamp is updated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_ohlcv_trades.jl#L198-L206">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._fetch!-Tuple{Watcher, Val{:ccxt_order_book}}-watchers-watchers" href="#Watchers._fetch!-Tuple{Watcher, Val{:ccxt_order_book}}-watchers-watchers"><code>Watchers._fetch!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Fetches the order book data and pushes it to the watcher.</p><pre><code class="language-julia hljs">_fetch!(w::Watcher, _::Val{:ccxt_order_book}) -&gt; Bool
</code></pre><p>This function fetches the order book data using the appropriate function and symbol. If the fetched order book has data, it is converted to a DataFrame and pushed to the watcher. The function returns <code>true</code> if data was fetched and pushed, and <code>false</code> otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_orderbook.jl#L125-L134">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._fetch!-Tuple{Watcher, Val{:ccxt_ticker}}-watchers-watchers" href="#Watchers._fetch!-Tuple{Watcher, Val{:ccxt_ticker}}-watchers-watchers"><code>Watchers._fetch!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Fetches trades and updates the watcher&#39;s trades buffer</p><pre><code class="language-julia hljs">_fetch!(w::Watcher, _::Val{:ccxt_ticker}) -&gt; Any
</code></pre><p>This function fetches trades for the watcher&#39;s symbol and time frame, and updates the watcher&#39;s trades buffer. If new trades are fetched, they are appended to the trades buffer and the last fetched timestamp is updated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_tickers.jl#L126-L134">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._flush!-Tuple{Watcher, Val{:ccxt_order_book}}-watchers-watchers" href="#Watchers._flush!-Tuple{Watcher, Val{:ccxt_order_book}}-watchers-watchers"><code>Watchers._flush!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Flushes the watcher data.</p><pre><code class="language-julia hljs">_flush!(
    w::Watcher,
    _::Val{:ccxt_order_book}
) -&gt; Union{Nothing, Dict{Symbol, Any}}
</code></pre><p>This function checks if the watcher view is empty and returns nothing if it is. Otherwise, it gets the range of data after the last flushed time from the buffer and saves it if the range has data. The last flushed time is then updated to the time of the last data in the buffer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_orderbook.jl#L158-L167">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._init!-Tuple{Watcher, Val{:ccxt_ohlcv_ticker}}-watchers-watchers" href="#Watchers._init!-Tuple{Watcher, Val{:ccxt_ohlcv_ticker}}-watchers-watchers"><code>Watchers._init!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Initializes the watcher for the OHLCV ticker.</p><pre><code class="language-julia hljs">_init!(
    w::Watcher,
    _::Val{:ccxt_ohlcv_ticker}
) -&gt; Dict{Symbol, Any}
</code></pre><p>This function initializes the watcher with default view, temporary OHLCV, candle ticks, loaded symbols, and symbol locks. It also initializes the symbols and checks for the watcher.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_ohlcv_tickers.jl#L130-L138">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._init!-Tuple{Watcher, Val{:ccxt_ohlcv}}-watchers-watchers" href="#Watchers._init!-Tuple{Watcher, Val{:ccxt_ohlcv}}-watchers-watchers"><code>Watchers._init!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Initializes the watcher</p><pre><code class="language-julia hljs">_init!(w::Watcher, _::Val{:ccxt_ohlcv}) -&gt; Dict{Symbol, Any}
</code></pre><p>This function initializes the watcher by setting up its attributes and preparing it for data fetching and processing. It sets the symbol, exchange, and time frame for the watcher, and prepares the trades buffer. It also sets the watcher&#39;s status to pending and initializes the last fetched and last flushed timestamps.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_ohlcv_trades.jl#L86-L95">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._load!-Tuple{Watcher, Val{:ccxt_ohlcv_candles}, Any}-watchers-watchers" href="#Watchers._load!-Tuple{Watcher, Val{:ccxt_ohlcv_candles}, Any}-watchers-watchers"><code>Watchers._load!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Loads the OHLCV data for a specific symbol.</p><pre><code class="language-julia hljs">_load!(w::Watcher, _::Val{:ccxt_ohlcv_candles}, sym)
</code></pre><p>This function loads the OHLCV data for a specific symbol. If the symbol is not being tracked by the watcher or if the data for the symbol has already been loaded, the function returns nothing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_ohlcv_candles.jl#L89-L97">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._load!-Tuple{Watcher, Val{:ccxt_ohlcv_ticker}, Any}-watchers-watchers" href="#Watchers._load!-Tuple{Watcher, Val{:ccxt_ohlcv_ticker}, Any}-watchers-watchers"><code>Watchers._load!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Loads the OHLCV data for a specific symbol.</p><pre><code class="language-julia hljs">_load!(w::Watcher, _::Val{:ccxt_ohlcv_ticker}, sym)
</code></pre><p>This function loads the OHLCV data for a specific symbol. If the symbol is not being tracked by the watcher or if the data for the symbol has already been loaded, the function returns nothing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_ohlcv_tickers.jl#L449-L457">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._process!-Tuple{Watcher, Val{:ccxt_ohlcv_ticker}}-watchers-watchers" href="#Watchers._process!-Tuple{Watcher, Val{:ccxt_ohlcv_ticker}}-watchers-watchers"><code>Watchers._process!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Processes the watcher data.</p><pre><code class="language-julia hljs">_process!(w::Watcher, _::Val{:ccxt_ohlcv_ticker})
</code></pre><p>This function processes the watcher data by updating the OHLCV for each symbol in the last fetch. It does this in a synchronous manner, ensuring that all updates are completed before proceeding.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_ohlcv_tickers.jl#L317-L325">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._process!-Tuple{Watcher, Val{:ccxt_ohlcv}}-watchers-watchers" href="#Watchers._process!-Tuple{Watcher, Val{:ccxt_ohlcv}}-watchers-watchers"><code>Watchers._process!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Processes the watcher data and updates the dataframe</p><pre><code class="language-julia hljs">_process!(w::Watcher, _::Val{:ccxt_ohlcv})
</code></pre><p>This function processes the watcher data and updates the dataframe. It first ensures that when no trades happen, candles are still updated. Then, it converts trades to OHLCV format and appends the resulting data to the dataframe. If the dataframe is not empty, it resolves any discrepancies between the dataframe and the new data. Finally, it removes processed trades from the trades buffer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_ohlcv_trades.jl#L233-L244">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._process!-Tuple{Watcher, Val{:ccxt_order_book}}-watchers-watchers" href="#Watchers._process!-Tuple{Watcher, Val{:ccxt_order_book}}-watchers-watchers"><code>Watchers._process!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Processes the watcher data.</p><pre><code class="language-julia hljs">_process!(
    w::Watcher,
    _::Val{:ccxt_order_book}
) -&gt; Union{Nothing, Dict{Symbol, Any}}
</code></pre><p>This function processes the watcher data by appending it to the view. It uses the <code>appendby</code> function to append the last buffer value to the view, with a capacity limit.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_orderbook.jl#L145-L153">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers._start!-Tuple{Watcher, Val{:ccxt_ohlcv}}-watchers-watchers" href="#Watchers._start!-Tuple{Watcher, Val{:ccxt_ohlcv}}-watchers-watchers"><code>Watchers._start!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Starts the watcher and fetches data</p><pre><code class="language-julia hljs">_start!(w::Watcher, _::Val{:ccxt_ohlcv}) -&gt; Any
</code></pre><p>This function starts the watcher and fetches data for the watcher&#39;s symbol and time frame. If the dataframe is not empty, it fetches data from the last date in the dataframe to the current date. It then checks the continuity of the data in the dataframe.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/ccxt_ohlcv_trades.jl#L118-L127">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls.@append_dict_data-Tuple{Any, Any, Any}-watchers-watchers" href="#Watchers.WatchersImpls.@append_dict_data-Tuple{Any, Any, Any}-watchers-watchers"><code>Watchers.WatchersImpls.@append_dict_data</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Defines a closure that appends new data on each symbol dataframe</p><p>The <code>append_dict_data</code> macro takes a dictionary, data, and a maximum length variable. It defines a closure <code>doappend</code> that appends new data to each symbol dataframe in the dictionary. The macro ensures that the length of the dataframe does not exceed the provided maximum length.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/utils.jl#L70-L79">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls.@collect_buffer_data-watchers-watchers" href="#Watchers.WatchersImpls.@collect_buffer_data-watchers-watchers"><code>Watchers.WatchersImpls.@collect_buffer_data</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Collects data from a buffer and stores it in a dictionary</p><p>The <code>collect_buffer_data</code> macro takes a buffer variable, key type, value type, and an optional push function. It escapses the provided parameters and initializes a dictionary with the key type and vector of the value type. The push function is used to populate the dictionary with data from the buffer. If no push function is provided, a default one is used which pushes the ticker data into the dictionary. The dictionary is then returned after collecting all data from the buffer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/utils.jl#L45-L56">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Watchers.WatchersImpls.@parsedata-watchers-watchers" href="#Watchers.WatchersImpls.@parsedata-watchers-watchers"><code>Watchers.WatchersImpls.@parsedata</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Converts market data into a NamedTuple.</p><p>This macro takes a tick type, a collection of market data, and an optional key (defaulting to &quot;symbol&quot;). It then converts each market data item into the specified tick type and constructs a NamedTuple where each entry corresponds to a market, with the key being the market&#39;s symbol and the value being the converted data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/panifie/PingPong.jl/blob/df5e061b62204a487913379d65fa524aafdc59e2/Watchers/src/impls/utils.jl#L28-L34">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../data/">« Data</a><a class="docs-footer-nextpage" href="../apis/coingecko/">CoinGecko »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.1 on <span class="colophon-date" title="Sunday 19 May 2024 04:47">Sunday 19 May 2024</span>. Using Julia version 1.10.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
