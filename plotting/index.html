<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Plotting · PingPong.jl</title><meta name="title" content="Plotting · PingPong.jl"/><meta property="og:title" content="Plotting · PingPong.jl"/><meta property="twitter:title" content="Plotting · PingPong.jl"/><meta name="description" content="Documentation for PingPong.jl."/><meta property="og:description" content="Documentation for PingPong.jl."/><meta property="twitter:description" content="Documentation for PingPong.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../presentation/"><img src="../assets/logo.png" alt="PingPong.jl logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><span class="tocitem">Introduction</span><ul><li><a class="tocitem" href="../presentation/">Why PingPong?</a></li><li><a class="tocitem" href="../">What is PingPong?</a></li></ul></li><li><a class="tocitem" href="../types/">Types</a></li><li><a class="tocitem" href="../strategy/">Strategies</a></li><li><span class="tocitem">Engine</span><ul><li><a class="tocitem" href="../engine/engine/">Executors</a></li><li><a class="tocitem" href="../engine/backtesting/">Backtesting</a></li><li><a class="tocitem" href="../engine/paper/">Paper</a></li><li><a class="tocitem" href="../engine/live/">Live</a></li><li><a class="tocitem" href="../engine/features/">Features</a></li></ul></li><li><a class="tocitem" href="../exchanges/">Exchanges</a></li><li><a class="tocitem" href="../data/">Data</a></li><li><span class="tocitem">Watchers</span><ul><li><a class="tocitem" href="../watchers/watchers/">Interface</a></li><li><input class="collapse-toggle" id="menuitem-7-2" type="checkbox"/><label class="tocitem" for="menuitem-7-2"><span class="docs-label">Apis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../watchers/apis/coingecko/">CoinGecko</a></li><li><a class="tocitem" href="../watchers/apis/coinpaprika/">CoinPaprika</a></li><li><a class="tocitem" href="../watchers/apis/coinmarketcap/">CoinMarketCap</a></li></ul></li></ul></li><li><a class="tocitem" href="../stats/">Stats</a></li><li><a class="tocitem" href="../optimization/">Optimization</a></li><li class="is-active"><a class="tocitem" href>Plotting</a></li><li><span class="tocitem">Misc</span><ul><li><a class="tocitem" href="../config/">Config</a></li><li><a class="tocitem" href="../disambiguation/">Disambiguation (Glossary)</a></li><li><a class="tocitem" href="../troubleshooting/">Troubleshooting</a></li><li><a class="tocitem" href="../devdocs/">Devdocs</a></li><li><a class="tocitem" href="../contacts/">Contacts</a></li></ul></li><li><span class="tocitem">Customizations</span><ul><li><a class="tocitem" href="../customizations/customizations/">Overview</a></li><li><a class="tocitem" href="../customizations/orders/">Orders</a></li><li><a class="tocitem" href="../customizations/backtest/">Backtester</a></li><li><a class="tocitem" href="../customizations/exchanges/">Exchanges</a></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../API/collections/">Collections</a></li><li><a class="tocitem" href="../API/data/">Data</a></li><li><a class="tocitem" href="../API/ccxt/">Ccxt</a></li><li><a class="tocitem" href="../API/dfutils/">DataFrame utils</a></li><li><a class="tocitem" href="../API/executors/">Executors</a></li><li><a class="tocitem" href="../API/exchanges/">Exchanges</a></li><li><a class="tocitem" href="../API/fetch/">Fetch module</a></li><li><a class="tocitem" href="../API/engine/">Engine</a></li><li><a class="tocitem" href="../API/instances/">Instances</a></li><li><a class="tocitem" href="../API/instruments/">Instruments</a></li><li><a class="tocitem" href="../API/misc/">Misc</a></li><li><a class="tocitem" href="../API/optimization/">Optimization</a></li><li><a class="tocitem" href="../API/pbar/">Pbar</a></li><li><a class="tocitem" href="../API/plotting/">Plotting</a></li><li><a class="tocitem" href="../API/prices/">Prices</a></li><li><a class="tocitem" href="../API/processing/">Processing</a></li><li><a class="tocitem" href="../API/python/">Python</a></li><li><a class="tocitem" href="../API/stats/">Stats</a></li><li><a class="tocitem" href="../API/strategies/">Strategies</a></li><li><input class="collapse-toggle" id="menuitem-13-20" type="checkbox"/><label class="tocitem" for="menuitem-13-20"><span class="docs-label">Analysis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../API/analysis/analysis/">Analysis</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Plotting</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Plotting</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/panifie/PingPong.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/panifie/PingPong.jl/blob/master/docs/src/plotting.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><p>The Plotting module utilizes <a href="https://docs.makie.org/stable/">Makie</a> for creating visualizations. It is important to note that graphical backends are not automatically included with the module and must be installed manually:</p><pre><code class="language-julia hljs">] add GLMakie
using GLMakie
# Alternatively:
] add WGLMakie
using WGLMakie</code></pre><p>PingPong enhances Makie with specialized plotting recipes for financial analysis:</p><ul><li>OHLCV (Open-High-Low-Close Volume) charts</li><li>Detailed trade history visualization</li><li>Summarized trade history with volume and balance insights.</li></ul><div class="admonition is-info"><header class="admonition-header">Interactive Features</header><div class="admonition-body"><p>Interactive backends, such as GLMakie and WGLMakie, allow for dynamic plots that can be clicked-and-dragged or zoomed. Additionally, interactive elements like tooltips are available on hover for candlesticks, trades, and balance charts.</p></div></div><h4 id="OHLCV-Charts"><a class="docs-heading-anchor" href="#OHLCV-Charts">OHLCV Charts</a><a id="OHLCV-Charts-1"></a><a class="docs-heading-anchor-permalink" href="#OHLCV-Charts" title="Permalink"></a></h4><p>OHLCV data is represented using candlesticks to indicate price movement, with red signifying a price decrease and green an increase. Volume is depicted as bars in the background of the chart. Here&#39;s an example:</p><pre><code class="language-julia hljs">using Plotting
using Scrapers.BinanceData
df = binanceload(&quot;eth&quot;).data
figure = Plotting.ohlcv(df)
display(figure)</code></pre><p><img src="../assets/ohlcv.gif" alt="OHLCV Plot"/></p><h4 id="Trading-History"><a class="docs-heading-anchor" href="#Trading-History">Trading History</a><a id="Trading-History-1"></a><a class="docs-heading-anchor-permalink" href="#Trading-History" title="Permalink"></a></h4><p>The history of trades is illustrated using triangles, with upwards pointing triangles for buy transactions and downwards for sell transactions.</p><pre><code class="language-julia hljs">using Lang
using Strategies
using Engine.Executors.SimMode: SimMode as bt
strategy = st.strategy(:Example)
ai = strategy.universe[m&quot;eth&quot;].instance
bt.start!(strategy)
# Display the first 100 trades for an asset with the symbol &quot;eth&quot;
figure = Plotting.tradesticks(strategy, m&quot;eth&quot;, to=100)
display(figure)</code></pre><p><img src="../assets/tradesticks.jpg" alt="TradesTicks"/></p><h4 id="Aggregated-Trade-History-for-a-Single-Asset"><a class="docs-heading-anchor" href="#Aggregated-Trade-History-for-a-Single-Asset">Aggregated Trade History for a Single Asset</a><a id="Aggregated-Trade-History-for-a-Single-Asset-1"></a><a class="docs-heading-anchor-permalink" href="#Aggregated-Trade-History-for-a-Single-Asset" title="Permalink"></a></h4><p>The <code>balloons</code> function provides an aggregated view of trade density within a specified timeframe. Each circle&#39;s size correlates with the trade volume—larger circles denote higher volume. Positive volume timeframes are labeled as <em>sells</em> and negative ones as <em>buys</em>. Circle opacity reflects the number of trades within the timeframe. The accompanying balance chart indicates the quote currency held: the orange band represents actual cash (<code>Strategy.cash</code>), while the blue band represents the value of held assets in quote currency (<code>AssetInstance.cash * price</code>).</p><pre><code class="language-julia hljs"># Aggregate trades within a 1-day timeframe for the &quot;eth&quot; asset.
Plotting.balloons(strategy, m&quot;eth&quot;, tf=tf&quot;1d&quot;)</code></pre><p><img src="../assets/balloons.jpg" alt="Balloons"/></p><h4 id="Aggregated-Trade-History-for-Multiple-Assets"><a class="docs-heading-anchor" href="#Aggregated-Trade-History-for-Multiple-Assets">Aggregated Trade History for Multiple Assets</a><a id="Aggregated-Trade-History-for-Multiple-Assets-1"></a><a class="docs-heading-anchor-permalink" href="#Aggregated-Trade-History-for-Multiple-Assets" title="Permalink"></a></h4><p>For a comprehensive analysis, aggregated trade history can plot multiple assets. Balloons are overlaid on the price line of each asset, with the same opacity and radius settings as single asset plots. To benchmark against a specific asset, pass a symbol or a dataframe using the <code>benchmark</code> keyword argument.</p><pre><code class="language-julia hljs"># Aggregate trades within a 1-week timeframe for all assets in the strategy universe
Plotting.balloons(strategy, tf=tf&quot;1w&quot;)</code></pre><p><img src="../assets/balloons-multi.jpg" alt="Balloons Multi"/></p><h4 id="Custom-Indicators"><a class="docs-heading-anchor" href="#Custom-Indicators">Custom Indicators</a><a id="Custom-Indicators-1"></a><a class="docs-heading-anchor-permalink" href="#Custom-Indicators" title="Permalink"></a></h4><p>Custom indicators enhance chart analysis and can be integrated into plots. For example, a moving average can be represented using the <code>line_indicator</code> function:</p><pre><code class="language-julia hljs">analyze!()
using Indicators
# Calculate 7-period and 14-period simple moving averages (SMA)
simple_moving_average_7 = Indicators.sma(df.close, n=7)
simple_moving_average_14 = Indicators.sma(df.close, n=14)
# Generate an OHLCV chart and overlay it with the SMA lines
figure = Plotting.ohlcv(df)
figure = line_indicator!(figure, simple_moving_average_7, simple_moving_average_14)
display(figure)</code></pre><p><img src="../assets/line-indicator.jpg" alt="Line Indicator"/></p><p>Channels or envelopes can be visualized using the <code>channel_indicator</code> function. This tool is useful for identifying trends and potential breakouts:</p><pre><code class="language-julia hljs"># Compute Bollinger Bands
bb = Indicators.bbands(df.close)
# Create a channel indicator plot with the Bollinger Bands data
Plotting.channel_indicator(df, eachcol(bb)...)</code></pre><p><img src="../assets/channel-indicator.jpg" alt="Channel Indicator"/></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../optimization/">« Optimization</a><a class="docs-footer-nextpage" href="../config/">Config »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Thursday 11 July 2024 18:55">Thursday 11 July 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
